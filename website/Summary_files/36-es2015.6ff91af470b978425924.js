(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"3CQG":function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(n){return n.LINE="line",n.BAR="bar",n}({})},"G/56":function(n,l,t){"use strict";t.d(l,"a",(function(){return i}));var e=t("4fNi");class i{constructor(n,l){this.action=e.a.PROJECT_CONFIG,this.title=n,this.arguments=l}}},PfrF:function(n,l,t){"use strict";t.d(l,"a",(function(){return o}));var e=t("quSY"),i=t("l7GE"),a=t("ZUHj");function o(n){return function(l){return l.lift(new s(n))}}class s{constructor(n){this.closingSelector=n}call(n,l){return l.subscribe(new r(n,this.closingSelector))}}class r extends i.a{constructor(n,l){super(n),this.closingSelector=l,this.subscribing=!1,this.openBuffer()}_next(n){this.buffer.push(n)}_complete(){const n=this.buffer;n&&this.destination.next(n),super._complete()}_unsubscribe(){this.buffer=null,this.subscribing=!1}notifyNext(n,l,t,e,i){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let n,{closingSubscription:l}=this;l&&(this.remove(l),l.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:l}=this;n=l()}catch(t){return this.error(t)}l=new e.a,this.closingSubscription=l,this.add(l),this.subscribing=!0,l.add(Object(a.a)(this,n)),this.subscribing=!1}}},QJtd:function(n,l,t){"use strict";t.d(l,"a",(function(){return i}));var e=t("4fNi");class i{constructor(n,l){this.action=e.a.GET_SYNC_SERVICES,this.title=n,this.arguments=l}}},"YK+w":function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class i{}var a=t("pMnS"),o=t("dJrM"),s=t("HsOI"),r=t("Xd0L"),u=t("IP0z"),c=t("/HVE"),d=t("omvX"),p=t("Azqq"),h=t("s7LF"),g=t("JjoW"),f=t("hOhj"),_=t("5GAg"),m=t("MlvX"),v=t("bujt"),b=t("iInd"),O=t("SVse"),S=t("Fwaw"),C=t("fpvh"),y=t("Mz6y"),P=t("QQfA"),w=t("cUpR"),j=t("Mr+X"),R=t("Gi4r"),T=t("4wlb"),D=t("Ponr"),E=t("jhtA"),I=t("mL85"),A=function(n){return n.CONNECT_GA="Connect GA",n.ADD_KEYWORDS="Add Keywords",n.START_MONITORING="Start monitoring",n}({});class x{constructor(n,l){this.userPermissions=n,this.userActionTracker=l,this.actions=[],this.action=new e.EventEmitter}get _isNeedAction(){return!!this.neededAction}get neededAction(){return this.actions.find(n=>!!n.isNeeded)}ngOnInit(){}}var M=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;padding:34px}[_nghost-%COMP%]:not(.need-action){cursor:pointer}.need-action[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]   .header-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;margin-bottom:24px;position:relative;z-index:9;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .header-block__title[_ngcontent-%COMP%]{font-weight:500;font-size:12px}@-webkit-keyframes blink{0%,100%{opacity:.2}20%{opacity:1}}@keyframes blink{0%,100%{opacity:.2}20%{opacity:1}}[_nghost-%COMP%]   .header-block__in-progress[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .header-block__in-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:4px;height:4px;background:#208abe;border-radius:50%;margin-left:2px;-webkit-animation-name:blink;animation-name:blink;-webkit-animation-duration:1.4s;animation-duration:1.4s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-fill-mode:both;animation-fill-mode:both}[_nghost-%COMP%]   .header-block__in-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}[_nghost-%COMP%]   .header-block__in-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}[_nghost-%COMP%]   .action-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{pointer-events:all}"]],data:{}});function k(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"div",[["class","header-block__in-progress mx-8"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,16777216,null,null,4,"div",[["matTooltip","Services in the data collection process"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,l,t){var i=!0;return"longpress"===l&&(i=!1!==e["\u0275nov"](n,2).show()&&i),"keydown"===l&&(i=!1!==e["\u0275nov"](n,2)._handleKeydown(t)&&i),"touchend"===l&&(i=!1!==e["\u0275nov"](n,2)._handleTouchend()&&i),i}),null,null)),e["\u0275did"](2,212992,null,0,y.d,[P.c,e.ElementRef,f.f,e.ViewContainerRef,e.NgZone,c.a,_.c,_.h,y.b,[2,u.b],[2,y.a],[2,w.g]],{message:[0,"message"]},null),(n()(),e["\u0275eld"](3,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,0,"span",[],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,null,null,0,"span",[],null,null,null,null,null))],(function(n,l){n(l,2,0,"Services in the data collection process")}),null)}function L(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),e["\u0275ncd"](null,0),(n()(),e["\u0275and"](0,null,null,0))],null,null)}function N(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,3,"div",[["class","action-overlay"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,2,"button",[["color","accent"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0,i=n.component;return"click"===l&&(t.stopPropagation(),i.action.emit(i.neededAction.type),e=!1!==i.userActionTracker.event(i.neededAction.type,t)&&e),e}),v.d,v.b)),e["\u0275did"](2,180224,null,0,S.b,[e.ElementRef,_.h,[2,d.a]],{color:[0,"color"]},null),(n()(),e["\u0275ted"](3,0,[" "," "]))],(function(n,l){n(l,2,0,"accent")}),(function(n,l){var t=l.component;n(l,1,0,e["\u0275nov"](l,2).disabled||null,"NoopAnimations"===e["\u0275nov"](l,2)._animationMode),n(l,3,0,t.neededAction.type)}))}function G(n){return e["\u0275vid"](0,[(n()(),e["\u0275and"](16777216,null,null,1,null,N)),e["\u0275did"](1,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e["\u0275and"](0,null,null,0))],(function(n,l){var t=l.component;n(l,1,0,t.canEdit||t.userPermissions.isFreeUser||t.userPermissions.isGuest,e["\u0275nov"](l.parent,8))}),null)}function B(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-no-data",[],null,null,null,T.b,T.a)),e["\u0275did"](1,114688,null,0,D.a,[],null,null)],(function(n,l){n(l,1,0)}),null)}function F(n){return e["\u0275vid"](2,[(n()(),e["\u0275eld"](0,0,null,null,4,"div",[["class","header-block"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"div",[["class","header-block__title"]],null,null,null,null,null)),(n()(),e["\u0275ted"](2,null,["",""])),(n()(),e["\u0275and"](16777216,null,null,1,null,k)),e["\u0275did"](4,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,L)),e["\u0275did"](6,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e["\u0275and"](0,[["actionTpl",2]],null,0,null,G)),(n()(),e["\u0275and"](0,[["noData",2]],null,0,null,B))],(function(n,l){var t=l.component;n(l,4,0,t.isInProgress),n(l,6,0,!t.neededAction,e["\u0275nov"](l,7))}),(function(n,l){n(l,2,0,l.component.title)}))}var U=t("S6fl"),V=t("lrEm");class H{transform(n,...l){return U.a.isNumeric(n)?(n=+n)>999?U.a.toFixed(n/1e3,1)+"k":n:V.q}}var J=function(n){return n.POSITIVE="positive",n.NEUTRAL="neutral",n.NEGATIVE="negative",n}({});class q{constructor(){this.DIFFERENCES=J}get positiveClassBind(){return this.currentDifference===J.POSITIVE}get negativeClassBind(){return this.currentDifference===J.NEGATIVE}get absDiff(){return Math.abs(this.diff)}get currentDifference(){return this.diff>0?J.POSITIVE:this.diff<0?J.NEGATIVE:J.NEUTRAL}ngOnInit(){}}var Y=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;align-items:center;font-size:inherit}.positive[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:inherit!important}.negative[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:inherit!important}"]],data:{}});function z(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,j.b,j.a)),e["\u0275did"](1,9158656,null,0,R.b,[e.ElementRef,R.d,[8,null],[2,R.a]],null,null),(n()(),e["\u0275ted"](-1,0,["arrow_drop_down"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e["\u0275nov"](l,1).inline,"primary"!==e["\u0275nov"](l,1).color&&"accent"!==e["\u0275nov"](l,1).color&&"warn"!==e["\u0275nov"](l,1).color)}))}function W(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,j.b,j.a)),e["\u0275did"](1,9158656,null,0,R.b,[e.ElementRef,R.d,[8,null],[2,R.a]],null,null),(n()(),e["\u0275ted"](-1,0,["arrow_drop_up"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e["\u0275nov"](l,1).inline,"primary"!==e["\u0275nov"](l,1).color&&"accent"!==e["\u0275nov"](l,1).color&&"warn"!==e["\u0275nov"](l,1).color)}))}function $(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function K(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,z)),e["\u0275did"](2,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,W)),e["\u0275did"](4,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,2,null,$)),e["\u0275did"](6,540672,null,0,O.NgTemplateOutlet,[e.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e["\u0275pod"](7,{diff:0}),(n()(),e["\u0275and"](0,null,null,0))],(function(n,l){var t=l.component;n(l,2,0,t.currentDifference===t.DIFFERENCES.NEGATIVE),n(l,4,0,t.currentDifference===t.DIFFERENCES.POSITIVE);var i=n(l,7,0,t.absDiff);n(l,6,0,i,t.diffTpl?t.diffTpl:e["\u0275nov"](l.parent,3))}),null)}function Q(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,["",""])),e["\u0275ppd"](2,1)],null,(function(n,l){var t=e["\u0275unv"](l,1,0,n(l,2,0,e["\u0275nov"](l.parent,0),l.context.diff));n(l,1,0,t)}))}function Z(n){return e["\u0275vid"](2,[e["\u0275pid"](0,H,[]),(n()(),e["\u0275and"](16777216,null,null,1,null,K)),e["\u0275did"](2,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](0,[["defaultDiffTpl",2]],null,0,null,Q))],(function(n,l){var t=l.component;n(l,2,0,t.currentDifference!==t.DIFFERENCES.NEUTRAL)}),null)}class X{constructor(){}get currentDayScore(){return this.score&&this.score[0]?this.score[0]:{date:null,score:0,errors:0,notices:0,warnings:0}}get scoreDiff(){try{return this.score[0].score-this.score[1].score}catch(n){return 0}}get errorsDiff(){try{return this.score[0].errors-this.score[1].errors}catch(n){return 0}}get warningsDiff(){try{return this.score[0].warnings-this.score[1].warnings}catch(n){return 0}}get noticesDiff(){try{return this.score[0].notices-this.score[1].notices}catch(n){return 0}}ngOnInit(){}}var nn=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .score-widget__info[_ngcontent-%COMP%]{display:flex;align-self:flex-end;font-weight:500}[_nghost-%COMP%]   .score-widget__value[_ngcontent-%COMP%]{margin-right:12px;font-size:56px}[_nghost-%COMP%]   .score-widget__diff[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center;margin-top:auto;margin-bottom:18px}[_nghost-%COMP%]   .score-widget__details[_ngcontent-%COMP%]{margin:0;padding:0}[_nghost-%COMP%]   .score-widget-detail[_ngcontent-%COMP%]{font-size:12px;list-style-type:none;display:flex;align-items:center;justify-content:space-between;position:relative;margin-right:40px;margin-bottom:7px}[_nghost-%COMP%]   .score-widget-detail__val[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .score-widget-detail[_ngcontent-%COMP%]   app-value-diff[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(100% + 12px);transform:translateY(-50%)}"]],data:{}});function ln(n){return e["\u0275vid"](2,[e["\u0275pid"](0,H,[]),(n()(),e["\u0275eld"](1,0,null,null,31,"div",[["class","score-widget"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,5,"div",[["class","score-widget__info"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,1,"div",[["class","score-widget__value"]],[[2,"score-widget__value--negative",null],[2,"score-widget__value--warn",null],[2,"score-widget__value--positive",null]],null,null,null,null)),(n()(),e["\u0275ted"](4,null,[" "," "])),(n()(),e["\u0275eld"](5,0,null,null,2,"div",[["class","score-widget__diff"]],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](7,114688,null,0,q,[],{diff:[0,"diff"]},null),(n()(),e["\u0275eld"](8,0,null,null,24,"ul",[["class","score-widget__details"]],null,null,null,null,null)),(n()(),e["\u0275eld"](9,0,null,null,7,"li",[["class","score-widget-detail"]],null,null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,1,"div",[["class","score-widget-detail__title score-widget-detail__title--errors"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" Errors "])),(n()(),e["\u0275eld"](12,0,null,null,2,"div",[["class","score-widget-detail__val"]],null,null,null,null,null)),(n()(),e["\u0275ted"](13,null,[" "," "])),e["\u0275ppd"](14,1),(n()(),e["\u0275eld"](15,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](16,114688,null,0,q,[],{diff:[0,"diff"]},null),(n()(),e["\u0275eld"](17,0,null,null,7,"li",[["class","score-widget-detail"]],null,null,null,null,null)),(n()(),e["\u0275eld"](18,0,null,null,1,"div",[["class","score-widget-detail__title score-widget-detail__title--warnings"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" Warnings "])),(n()(),e["\u0275eld"](20,0,null,null,2,"div",[["class","score-widget-detail__val"]],null,null,null,null,null)),(n()(),e["\u0275ted"](21,null,[" "," "])),e["\u0275ppd"](22,1),(n()(),e["\u0275eld"](23,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](24,114688,null,0,q,[],{diff:[0,"diff"]},null),(n()(),e["\u0275eld"](25,0,null,null,7,"li",[["class","score-widget-detail"]],null,null,null,null,null)),(n()(),e["\u0275eld"](26,0,null,null,1,"div",[["class","score-widget-detail__title score-widget-detail__title--notices"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" Notices "])),(n()(),e["\u0275eld"](28,0,null,null,2,"div",[["class","score-widget-detail__val"]],null,null,null,null,null)),(n()(),e["\u0275ted"](29,null,[" "," "])),e["\u0275ppd"](30,1),(n()(),e["\u0275eld"](31,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](32,114688,null,0,q,[],{diff:[0,"diff"]},null)],(function(n,l){var t=l.component;n(l,7,0,t.scoreDiff),n(l,16,0,0-t.errorsDiff),n(l,24,0,0-t.warningsDiff),n(l,32,0,0-t.noticesDiff)}),(function(n,l){var t=l.component;n(l,3,0,t.currentDayScore.score>=0&&t.currentDayScore.score<=59,t.currentDayScore.score>59&&t.currentDayScore.score<80,t.currentDayScore.score>=80),n(l,4,0,t.currentDayScore.score),n(l,6,0,e["\u0275nov"](l,7).positiveClassBind,e["\u0275nov"](l,7).negativeClassBind);var i=e["\u0275unv"](l,13,0,n(l,14,0,e["\u0275nov"](l,0),t.currentDayScore.errors));n(l,13,0,i),n(l,15,0,e["\u0275nov"](l,16).positiveClassBind,e["\u0275nov"](l,16).negativeClassBind);var a=e["\u0275unv"](l,21,0,n(l,22,0,e["\u0275nov"](l,0),t.currentDayScore.warnings));n(l,21,0,a),n(l,23,0,e["\u0275nov"](l,24).positiveClassBind,e["\u0275nov"](l,24).negativeClassBind);var o=e["\u0275unv"](l,29,0,n(l,30,0,e["\u0275nov"](l,0),t.currentDayScore.notices));n(l,29,0,o),n(l,31,0,e["\u0275nov"](l,32).positiveClassBind,e["\u0275nov"](l,32).negativeClassBind)}))}var tn=t("rIHv"),en=t("lDqx"),an=t("YHf6"),on=t("xrDQ"),sn=t("n4Wj"),rn=t("3CQG"),un=t("ri+G");class cn{constructor(n,l){this._chartOptions=n,this._chartColors=l,this.isProjectHasKeywords=!1,this.chartOptions={scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}},this.chartDatasets=[{fill:!1}],this.chartType=rn.a.LINE,this.chartOptions=this._chartOptions.mergeOptions(this.chartOptions),this.chartColors=this._chartColors.getColors(2)}get currentRank(){return this.data.rank&&this.data.rank[0]?this.data.rank[0]:{date:null,top3:0,top10:0,top100:0,no_position:0}}get top3Diff(){try{return this.data.rank[0].top3-this.data.rank[1].top3}catch(n){return 0}}get top10Diff(){try{return this.data.rank[0].top10-this.data.rank[1].top10}catch(n){return 0}}get top100Diff(){try{return this.data.rank[0].top100-this.data.rank[1].top100}catch(n){return 0}}get noPositionDiff(){try{return this.data.rank[0].no_position-this.data.rank[1].no_position}catch(n){return 0}}ngOnInit(){}ngOnChanges(n){const{data:l}=n;l&&l.currentValue&&this.setChartData()}setChartData(){this.data.rankGraph&&(this.chartDatasets=U.a.mergeObjects(this.chartDatasets,this.data.rankGraph.datasets),this.chartLabels=this.data.rankGraph.labels)}}var dn=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .rankings-widget[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .rankings-widget__list[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .rankings-widget__rank[_ngcontent-%COMP%]{list-style-type:none;display:flex;align-items:center;justify-content:space-between;position:relative;margin-right:33px;margin-bottom:7px}[_nghost-%COMP%]   .rankings-widget__rank[_ngcontent-%COMP%]   app-value-diff[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(100% + 12px);transform:translateY(-50%)}[_nghost-%COMP%]   .rankings-widget__chart[_ngcontent-%COMP%]{width:100%;height:30px;margin-top:16px}"]],data:{}});function pn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-chart",[],[[2,"right-custom-legend",null]],null,null,tn.b,tn.a)),e["\u0275did"](1,6012928,null,0,en.a,[an.a,e.Renderer2,e.ElementRef,e.ChangeDetectorRef,e.NgZone,on.a,sn.a,"WINDOW"],{chartDatasets:[0,"chartDatasets"],chartLabels:[1,"chartLabels"],chartColors:[2,"chartColors"],chartOptions:[3,"chartOptions"],chartType:[4,"chartType"]},null)],(function(n,l){var t=l.component;n(l,1,0,t.chartDatasets,t.chartLabels,t.chartColors,t.chartOptions,t.chartType)}),(function(n,l){n(l,0,0,e["\u0275nov"](l,1).rightCustomLegendClass)}))}function hn(n){return e["\u0275vid"](2,[e["\u0275pid"](0,H,[]),(n()(),e["\u0275eld"](1,0,null,null,36,"div",[["class","rankings-widget"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,32,"ul",[["class","rankings-widget__list"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,7,"li",[["class","rankings-widget__rank"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Top 1-3"])),(n()(),e["\u0275eld"](6,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](7,null,["",""])),e["\u0275ppd"](8,1),(n()(),e["\u0275eld"](9,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](10,114688,null,0,q,[],{diff:[0,"diff"]},null),(n()(),e["\u0275eld"](11,0,null,null,7,"li",[["class","rankings-widget__rank"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Top 4-10"])),(n()(),e["\u0275eld"](14,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](15,null,["",""])),e["\u0275ppd"](16,1),(n()(),e["\u0275eld"](17,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](18,114688,null,0,q,[],{diff:[0,"diff"]},null),(n()(),e["\u0275eld"](19,0,null,null,7,"li",[["class","rankings-widget__rank"]],null,null,null,null,null)),(n()(),e["\u0275eld"](20,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Top 11-100 "])),(n()(),e["\u0275eld"](22,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](23,null,["",""])),e["\u0275ppd"](24,1),(n()(),e["\u0275eld"](25,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](26,114688,null,0,q,[],{diff:[0,"diff"]},null),(n()(),e["\u0275eld"](27,0,null,null,7,"li",[["class","rankings-widget__rank"]],null,null,null,null,null)),(n()(),e["\u0275eld"](28,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Non in top 100"])),(n()(),e["\u0275eld"](30,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](31,null,["",""])),e["\u0275ppd"](32,1),(n()(),e["\u0275eld"](33,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](34,114688,null,0,q,[],{diff:[0,"diff"]},null),(n()(),e["\u0275eld"](35,0,null,null,2,"div",[["class","rankings-widget__chart"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,pn)),e["\u0275did"](37,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,10,0,t.top3Diff),n(l,18,0,t.top10Diff),n(l,26,0,t.top100Diff),n(l,34,0,t.noPositionDiff),n(l,37,0,null==t.chartLabels?null:t.chartLabels.length)}),(function(n,l){var t=l.component,i=e["\u0275unv"](l,7,0,n(l,8,0,e["\u0275nov"](l,0),t.currentRank.top3));n(l,7,0,i),n(l,9,0,e["\u0275nov"](l,10).positiveClassBind,e["\u0275nov"](l,10).negativeClassBind);var a=e["\u0275unv"](l,15,0,n(l,16,0,e["\u0275nov"](l,0),t.currentRank.top10));n(l,15,0,a),n(l,17,0,e["\u0275nov"](l,18).positiveClassBind,e["\u0275nov"](l,18).negativeClassBind);var o=e["\u0275unv"](l,23,0,n(l,24,0,e["\u0275nov"](l,0),t.currentRank.top100));n(l,23,0,o),n(l,25,0,e["\u0275nov"](l,26).positiveClassBind,e["\u0275nov"](l,26).negativeClassBind);var s=e["\u0275unv"](l,31,0,n(l,32,0,e["\u0275nov"](l,0),t.currentRank.no_position));n(l,31,0,s),n(l,33,0,e["\u0275nov"](l,34).positiveClassBind,e["\u0275nov"](l,34).negativeClassBind)}))}class gn{constructor(){}ngOnInit(){}}var fn=e["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .date-str[_ngcontent-%COMP%]{font-size:12px;margin-bottom:8px}[_nghost-%COMP%]   .changes-list[_ngcontent-%COMP%]{margin:0;padding:0 0 0 12px;display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .changes-list__item[_ngcontent-%COMP%]{list-style-type:none;position:relative;font-size:12px;line-height:1.5em;padding-bottom:6px;display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .changes-list__item[_ngcontent-%COMP%]:before{content:"";width:3px;height:3px;border-radius:50%;position:absolute;left:-12px;top:10px}[_nghost-%COMP%]   .changes-list__item[_ngcontent-%COMP%]:not(:last-of-type):after{content:"";width:1px;height:calc(100% - 7px);border-radius:50%;position:absolute;left:-11px;top:15px}[_nghost-%COMP%]   .changes-list__item-title[_ngcontent-%COMP%]{margin-right:8px}']],data:{}});function _n(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"li",[["class","changes-list__item"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"span",[["class","changes-list__item-title"]],null,null,null,null,null)),(n()(),e["\u0275ted"](2,null,["",""])),(n()(),e["\u0275eld"](3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](4,null,["",""])),e["\u0275ppd"](5,1)],null,(function(n,l){n(l,2,0,l.context.$implicit.title);var t=e["\u0275unv"](l,4,0,n(l,5,0,e["\u0275nov"](l.parent.parent,0),l.context.$implicit.value));n(l,4,0,t)}))}function mn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"div",[["class","date-str"]],null,null,null,null,null)),(n()(),e["\u0275ted"](2,null,[" "," "])),(n()(),e["\u0275eld"](3,0,null,null,2,"ul",[["class","changes-list"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,_n)),e["\u0275did"](5,278528,null,0,O.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,5,0,l.component.monitoring.changes)}),(function(n,l){n(l,2,0,l.component.monitoring.date)}))}function vn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","secondary-text"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" No Changes Yet "]))],null,null)}function bn(n){return e["\u0275vid"](2,[e["\u0275pid"](0,H,[]),(n()(),e["\u0275and"](16777216,null,null,1,null,mn)),e["\u0275did"](2,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e["\u0275and"](0,[["noChangesTpl",2]],null,0,null,vn))],(function(n,l){n(l,2,0,l.component.monitoring.changes.length,e["\u0275nov"](l,3))}),null)}var On=t("LvDl"),Sn=t("TGPU");class Cn{constructor(n,l,t,e){this._chartOptions=n,this._chartColors=l,this._cd=t,this._themeColors=e,this.chartOptions={scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}},this.chartDatasets=[{fill:!1},{fill:!1,borderDash:[5,3]}],this.chartType=rn.a.LINE,this.chartOptions=this._chartOptions.mergeOptions(this.chartOptions),this.chartColors=[...this._chartColors.getColors(1),...this._chartColors.getColors(1)]}get allTraffic(){try{return+Object(On.last)(this.trafficGraph.datasets[0].data)}catch(n){return 0}}get organicTraffic(){try{return+Object(On.last)(this.trafficGraph.datasets[1].data)}catch(n){return 0}}get allTrafficDiff(){try{const n=this.trafficGraph.datasets[0].data;return+n[n.length-1]-+n[n.length-29]}catch(n){return 0}}get organicTrafficDiff(){try{const n=this.trafficGraph.datasets[1].data;return+n[n.length-1]-+n[n.length-29]}catch(n){return 0}}ngOnInit(){}ngOnChanges(n){const{trafficGraph:l}=n;l&&l.currentValue&&this.setChartData()}setChartData(){this.trafficGraph&&(this.chartDatasets=U.a.mergeObjects(this.chartDatasets,this.trafficGraph.datasets),this.chartLabels=this.trafficGraph.labels)}}var yn=e["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .traffic-widget[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .traffic-widget__list[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-direction:column}[_nghost-%COMP%]   .traffic-widget__list-item[_ngcontent-%COMP%]{list-style-type:none;display:flex;justify-content:space-between;align-items:center;margin-right:60px;margin-bottom:8px;padding-left:18px;position:relative}[_nghost-%COMP%]   .traffic-widget__list-item--with-label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:0;transform:translateY(-50%);width:10px;border-width:2px;border-style:solid}[_nghost-%COMP%]   .traffic-widget__list-item--with-dashed-label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:0;transform:translateY(-50%);width:10px;border-width:2px;border-style:dotted}[_nghost-%COMP%]   .traffic-widget__list-item[_ngcontent-%COMP%]   app-value-diff[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(100% + 12px);transform:translateY(-50%)}']],data:{}});function Pn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-chart",[],[[2,"right-custom-legend",null]],null,null,tn.b,tn.a)),e["\u0275did"](1,6012928,null,0,en.a,[an.a,e.Renderer2,e.ElementRef,e.ChangeDetectorRef,e.NgZone,on.a,sn.a,"WINDOW"],{chartDatasets:[0,"chartDatasets"],chartLabels:[1,"chartLabels"],chartColors:[2,"chartColors"],chartOptions:[3,"chartOptions"],chartType:[4,"chartType"]},null)],(function(n,l){var t=l.component;n(l,1,0,t.chartDatasets,t.chartLabels,t.chartColors,t.chartOptions,t.chartType)}),(function(n,l){n(l,0,0,e["\u0275nov"](l,1).rightCustomLegendClass)}))}function wn(n){return e["\u0275vid"](2,[e["\u0275pid"](0,H,[]),(n()(),e["\u0275eld"](1,0,null,null,20,"div",[["class","traffic-widget"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,16,"ul",[["class","traffic-widget__list"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,7,"li",[["class","traffic-widget__list-item traffic-widget__list-item--with-label"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["All traffic"])),(n()(),e["\u0275eld"](6,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](7,null,["",""])),e["\u0275ppd"](8,1),(n()(),e["\u0275eld"](9,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](10,114688,null,0,q,[],{diff:[0,"diff"]},null),(n()(),e["\u0275eld"](11,0,null,null,7,"li",[["class","traffic-widget__list-item traffic-widget__list-item--with-dashed-label"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Organic traffic"])),(n()(),e["\u0275eld"](14,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](15,null,["",""])),e["\u0275ppd"](16,1),(n()(),e["\u0275eld"](17,0,null,null,1,"app-value-diff",[],[[2,"positive",null],[2,"negative",null]],null,null,Z,Y)),e["\u0275did"](18,114688,null,0,q,[],{diff:[0,"diff"]},null),(n()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","traffic-widget__chart"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,Pn)),e["\u0275did"](21,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,10,0,t.allTrafficDiff),n(l,18,0,t.organicTrafficDiff),n(l,21,0,t.chartLabels.length)}),(function(n,l){var t=l.component,i=e["\u0275unv"](l,7,0,n(l,8,0,e["\u0275nov"](l,0),t.allTraffic));n(l,7,0,i),n(l,9,0,e["\u0275nov"](l,10).positiveClassBind,e["\u0275nov"](l,10).negativeClassBind);var a=e["\u0275unv"](l,15,0,n(l,16,0,e["\u0275nov"](l,0),t.organicTraffic));n(l,15,0,a),n(l,17,0,e["\u0275nov"](l,18).positiveClassBind,e["\u0275nov"](l,18).negativeClassBind)}))}var jn=t("XNiG"),Rn=t("YWMG");class Tn{constructor(n,l,t){this.userPermissions=n,this.generalNotifications=l,this._cd=t,this.delete=new e.EventEmitter,this.edit=new e.EventEmitter,this.share=new e.EventEmitter,this.addKeywords=new e.EventEmitter,this.startMonitoring=new e.EventEmitter,this.connectGA=new e.EventEmitter,this.appCellClass=!0,this.DASHBOARD_ACTIONS=A,this.DEMO_PROJECT_ID=V.c,this.monitoringFinished=!1,this._destroy$=new jn.b}get expired(){return this.project.expired}get rankingsWidgetActions(){return[{type:A.ADD_KEYWORDS,isNeeded:0===this.project.data.settings.keywords}]}get lastChangesWidgetActions(){return[{type:A.START_MONITORING,isNeeded:!this.project.data.settings.use_monitoring}]}get trafficWidgetActions(){return[{type:A.CONNECT_GA,isNeeded:!this.project.data.settings.use_ga}]}ngOnInit(){}ngOnChanges(n){const{project:l}=n;if(l&&l.currentValue&&l.previousValue)try{const n=l.currentValue.data.settings.isCrawlingInProgress;!0===l.previousValue.data.settings.isCrawlingInProgress&&!1===n&&(this.monitoringFinished=!0)}catch(t){console.error(t)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.unsubscribe()}onDescriptionAction(n){switch(n){case A.CONNECT_GA:return this.connectGA.emit(this.project);case A.ADD_KEYWORDS:return this.addKeywords.emit(this.project.id);case A.START_MONITORING:return this.startMonitoring.emit(this.project.id);default:console.warn("[ DashboardProjectComponent ] Invalid Description Action")}}}var Dn=e["\u0275crt"]({encapsulation:0,styles:[['[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;border-radius:4px}.expired[_nghost-%COMP%]:before{content:"";display:block;width:8px;height:100%;position:absolute;top:0;left:0;z-index:1;border-radius:4px 0 0 4px}[_nghost-%COMP%]   .dashboard-project__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 33px 15px;position:relative}[_nghost-%COMP%]   .dashboard-project__header[_ngcontent-%COMP%]:after{content:"";width:calc(100% - 50px);height:1px;position:absolute;bottom:0;left:50%;transform:translateX(-50%)}[_nghost-%COMP%]   .dashboard-project__status-label[_ngcontent-%COMP%]{transform:rotate(90deg);transform-origin:top right 0;position:absolute;top:85px;right:-26px;border-top-left-radius:4px;border-top-right-radius:4px;padding:0 10px;height:25px;line-height:25px;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .dashboard-project__desc[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .dashboard-project__favicon[_ngcontent-%COMP%]{width:20px;height:20px;overflow:hidden;margin-right:14px;border-radius:4px;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .dashboard-project__favicon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex:1;width:100%;height:100%}[_nghost-%COMP%]   .dashboard-project__title[_ngcontent-%COMP%]{font-weight:500;font-size:15px;margin:0 30px 0 0;cursor:pointer}[_nghost-%COMP%]   .dashboard-project__title[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]   .dashboard-project__permission-label[_ngcontent-%COMP%]{border-radius:4px;padding:3px 6px;font-size:12px}[_nghost-%COMP%]   .dashboard-project__actions[_ngcontent-%COMP%]:not(:last-of-type){margin-right:8px}[_nghost-%COMP%]   .project-info__list[_ngcontent-%COMP%]{display:flex;align-items:stretch;margin:0;padding:0}[_nghost-%COMP%]   .project-info__tile[_ngcontent-%COMP%]{list-style-type:none;flex:1;display:flex;flex-direction:column;position:relative}[_nghost-%COMP%]   .project-info__tile[_ngcontent-%COMP%]:not(:last-of-type):after{content:"";position:absolute;width:1px;height:calc(100% - 50px);right:0;top:50%;transform:translateY(-50%)}']],data:{}});function En(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","dashboard-project__status-label"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" Free "]))],null,null)}function In(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","dashboard-project__permission-label"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" "," "]))],null,(function(n,l){n(l,1,0,l.component.project.permission)}))}function An(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,16777216,null,null,6,"button",[["at","share"],["mat-icon-button",""],["matTooltip","Share project"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,l,t){var i=!0,a=n.component;return"longpress"===l&&(i=!1!==e["\u0275nov"](n,3).show()&&i),"keydown"===l&&(i=!1!==e["\u0275nov"](n,3)._handleKeydown(t)&&i),"touchend"===l&&(i=!1!==e["\u0275nov"](n,3)._handleTouchend()&&i),"click"===l&&(i=!1!==a.share.emit()&&i),i}),v.d,v.b)),e["\u0275did"](1,4210688,null,0,C.a,[e.ElementRef,e.Renderer2],{at:[0,"at"]},null),e["\u0275did"](2,180224,null,0,S.b,[e.ElementRef,_.h,[2,d.a]],null,null),e["\u0275did"](3,212992,null,0,y.d,[P.c,e.ElementRef,f.f,e.ViewContainerRef,e.NgZone,c.a,_.c,_.h,y.b,[2,u.b],[2,y.a],[2,w.g]],{message:[0,"message"]},null),(n()(),e["\u0275eld"](4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,j.b,j.a)),e["\u0275did"](5,9158656,null,0,R.b,[e.ElementRef,R.d,[8,null],[2,R.a]],null,null),(n()(),e["\u0275ted"](-1,0,["share"])),(n()(),e["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,"share"),n(l,3,0,"Share project"),n(l,5,0)}),(function(n,l){n(l,0,0,e["\u0275nov"](l,2).disabled||null,"NoopAnimations"===e["\u0275nov"](l,2)._animationMode),n(l,4,0,e["\u0275nov"](l,5).inline,"primary"!==e["\u0275nov"](l,5).color&&"accent"!==e["\u0275nov"](l,5).color&&"warn"!==e["\u0275nov"](l,5).color)}))}function xn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,16777216,null,null,6,"button",[["at","edit"],["mat-icon-button",""],["matTooltip","Edit project"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,l,t){var i=!0,a=n.component;return"longpress"===l&&(i=!1!==e["\u0275nov"](n,3).show()&&i),"keydown"===l&&(i=!1!==e["\u0275nov"](n,3)._handleKeydown(t)&&i),"touchend"===l&&(i=!1!==e["\u0275nov"](n,3)._handleTouchend()&&i),"click"===l&&(i=!1!==a.edit.emit()&&i),i}),v.d,v.b)),e["\u0275did"](1,4210688,null,0,C.a,[e.ElementRef,e.Renderer2],{at:[0,"at"]},null),e["\u0275did"](2,180224,null,0,S.b,[e.ElementRef,_.h,[2,d.a]],null,null),e["\u0275did"](3,212992,null,0,y.d,[P.c,e.ElementRef,f.f,e.ViewContainerRef,e.NgZone,c.a,_.c,_.h,y.b,[2,u.b],[2,y.a],[2,w.g]],{message:[0,"message"]},null),(n()(),e["\u0275eld"](4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,j.b,j.a)),e["\u0275did"](5,9158656,null,0,R.b,[e.ElementRef,R.d,[8,null],[2,R.a]],null,null),(n()(),e["\u0275ted"](-1,0,["settings"])),(n()(),e["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,"edit"),n(l,3,0,"Edit project"),n(l,5,0)}),(function(n,l){n(l,0,0,e["\u0275nov"](l,2).disabled||null,"NoopAnimations"===e["\u0275nov"](l,2)._animationMode),n(l,4,0,e["\u0275nov"](l,5).inline,"primary"!==e["\u0275nov"](l,5).color&&"accent"!==e["\u0275nov"](l,5).color&&"warn"!==e["\u0275nov"](l,5).color)}))}function Mn(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,16777216,null,null,6,"button",[["at","delete"],["mat-icon-button",""],["matTooltip","Delete project"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,l,t){var i=!0,a=n.component;return"longpress"===l&&(i=!1!==e["\u0275nov"](n,3).show()&&i),"keydown"===l&&(i=!1!==e["\u0275nov"](n,3)._handleKeydown(t)&&i),"touchend"===l&&(i=!1!==e["\u0275nov"](n,3)._handleTouchend()&&i),"click"===l&&(i=!1!==a.delete.emit(a.project.shared)&&i),i}),v.d,v.b)),e["\u0275did"](1,4210688,null,0,C.a,[e.ElementRef,e.Renderer2],{at:[0,"at"]},null),e["\u0275did"](2,180224,null,0,S.b,[e.ElementRef,_.h,[2,d.a]],null,null),e["\u0275did"](3,212992,null,0,y.d,[P.c,e.ElementRef,f.f,e.ViewContainerRef,e.NgZone,c.a,_.c,_.h,y.b,[2,u.b],[2,y.a],[2,w.g]],{message:[0,"message"]},null),(n()(),e["\u0275eld"](4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,j.b,j.a)),e["\u0275did"](5,9158656,null,0,R.b,[e.ElementRef,R.d,[8,null],[2,R.a]],null,null),(n()(),e["\u0275ted"](-1,0,["delete"])),(n()(),e["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,"delete"),n(l,3,0,"Delete project"),n(l,5,0)}),(function(n,l){n(l,0,0,e["\u0275nov"](l,2).disabled||null,"NoopAnimations"===e["\u0275nov"](l,2)._animationMode),n(l,4,0,e["\u0275nov"](l,5).inline,"primary"!==e["\u0275nov"](l,5).color&&"accent"!==e["\u0275nov"](l,5).color&&"warn"!==e["\u0275nov"](l,5).color)}))}function kn(n){return e["\u0275vid"](2,[(n()(),e["\u0275eld"](0,0,null,null,48,"div",[["class","dashboard-project"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,En)),e["\u0275did"](2,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](3,0,null,null,15,"div",[["class","dashboard-project__header"]],[[1,"at",0]],null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,7,"div",[["class","dashboard-project__desc"]],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,null,null,1,"div",[["class","dashboard-project__favicon"]],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,0,"img",[["alt","favicon"]],[[8,"src",4]],null,null,null,null)),(n()(),e["\u0275eld"](7,0,null,null,2,"a",[["app-event-id","project_link"],["class","dashboard-project__title theme-black-fg"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),null,null)),e["\u0275did"](8,671744,null,0,b.r,[b.o,b.a,O.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),e["\u0275ted"](9,null,[" "," "])),(n()(),e["\u0275and"](16777216,null,null,1,null,In)),e["\u0275did"](11,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](12,0,null,null,6,"div",[["class","dashboard-project__actions"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,An)),e["\u0275did"](14,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,xn)),e["\u0275did"](16,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,Mn)),e["\u0275did"](18,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](19,0,null,null,29,"div",[["class","project-info"]],null,null,null,null,null)),(n()(),e["\u0275eld"](20,0,null,null,28,"ul",[["class","project-info__list"]],null,null,null,null,null)),(n()(),e["\u0275eld"](21,0,null,null,6,"li",[["class","project-info__tile"]],null,null,null,null,null)),(n()(),e["\u0275eld"](22,0,null,null,5,"app-project-description-section",[["title","Site Audit"]],[[2,"need-action",null]],[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n,23).onClick()&&i),i}),F,M)),e["\u0275did"](23,16384,null,0,b.p,[b.o,b.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](24,3),e["\u0275did"](25,114688,null,0,x,[E.a,I.a],{title:[0,"title"],isInProgress:[1,"isInProgress"],canEdit:[2,"canEdit"]},null),(n()(),e["\u0275eld"](26,0,null,0,1,"app-score-widget",[],null,null,null,ln,nn)),e["\u0275did"](27,114688,null,0,X,[],{score:[0,"score"]},null),(n()(),e["\u0275eld"](28,0,null,null,6,"li",[["class","project-info__tile"]],null,null,null,null,null)),(n()(),e["\u0275eld"](29,0,null,null,5,"app-project-description-section",[["title","Rank Tracker"]],[[2,"need-action",null]],[[null,"action"],[null,"click"]],(function(n,l,t){var i=!0,a=n.component;return"click"===l&&(i=!1!==e["\u0275nov"](n,30).onClick()&&i),"action"===l&&(i=!1!==a.onDescriptionAction(t)&&i),i}),F,M)),e["\u0275did"](30,16384,null,0,b.p,[b.o,b.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](31,3),e["\u0275did"](32,114688,null,0,x,[E.a,I.a],{title:[0,"title"],isInProgress:[1,"isInProgress"],actions:[2,"actions"],canEdit:[3,"canEdit"]},{action:"action"}),(n()(),e["\u0275eld"](33,0,null,0,1,"app-rankings-widget",[],null,null,null,hn,dn)),e["\u0275did"](34,638976,null,0,cn,[an.a,un.a],{data:[0,"data"],isProjectHasKeywords:[1,"isProjectHasKeywords"]},null),(n()(),e["\u0275eld"](35,0,null,null,6,"li",[["class","project-info__tile"]],null,null,null,null,null)),(n()(),e["\u0275eld"](36,0,null,null,5,"app-project-description-section",[["title","Site Monitoring"]],[[2,"need-action",null]],[[null,"action"],[null,"click"]],(function(n,l,t){var i=!0,a=n.component;return"click"===l&&(i=!1!==e["\u0275nov"](n,37).onClick()&&i),"action"===l&&(i=!1!==a.onDescriptionAction(t)&&i),i}),F,M)),e["\u0275did"](37,16384,null,0,b.p,[b.o,b.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](38,3),e["\u0275did"](39,114688,null,0,x,[E.a,I.a],{title:[0,"title"],isInProgress:[1,"isInProgress"],actions:[2,"actions"],canEdit:[3,"canEdit"]},{action:"action"}),(n()(),e["\u0275eld"](40,0,null,0,1,"app-changes-list",[],null,null,null,bn,fn)),e["\u0275did"](41,114688,null,0,gn,[],{monitoring:[0,"monitoring"]},null),(n()(),e["\u0275eld"](42,0,null,null,6,"li",[["class","project-info__tile"]],null,null,null,null,null)),(n()(),e["\u0275eld"](43,0,null,null,5,"app-project-description-section",[["title","Traffic"]],[[2,"need-action",null]],[[null,"action"],[null,"click"]],(function(n,l,t){var i=!0,a=n.component;return"click"===l&&(i=!1!==e["\u0275nov"](n,44).onClick()&&i),"action"===l&&(i=!1!==a.onDescriptionAction(t)&&i),i}),F,M)),e["\u0275did"](44,16384,null,0,b.p,[b.o,b.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](45,2),e["\u0275did"](46,114688,null,0,x,[E.a,I.a],{title:[0,"title"],isInProgress:[1,"isInProgress"],actions:[2,"actions"],canEdit:[3,"canEdit"]},{action:"action"}),(n()(),e["\u0275eld"](47,0,null,0,1,"app-traffic-widget",[],null,null,null,wn,yn)),e["\u0275did"](48,638976,null,0,Cn,[an.a,un.a,e.ChangeDetectorRef,Sn.a],{traffic:[0,"traffic"],trafficGraph:[1,"trafficGraph"]},null)],(function(n,l){var t=l.component;n(l,2,0,!1),n(l,8,0,e["\u0275inlineInterpolate"](1,"../../project/",t.project.id,"")),n(l,11,0,!!t.project.permission),n(l,14,0,t.project.canShare),n(l,16,0,(t.project.canEdit||t.userPermissions.isFreeUser||t.userPermissions.isGuest)&&t.DEMO_PROJECT_ID!==t.project.id),n(l,18,0,t.project.canRemove||t.project.shared);var i=n(l,24,0,"/main/project",t.project.id,"audit");n(l,23,0,i),n(l,25,0,"Site Audit",null==t.project.data?null:t.project.data.settings.isCrawlingInProgress,t.project.canEdit),n(l,27,0,null==t.project.data?null:t.project.data.score);var a=n(l,31,0,"/main/project",t.project.id,"positions");n(l,30,0,a),n(l,32,0,"Rank Tracker",null==t.project.data?null:t.project.data.settings.isPositionsInProgress,t.rankingsWidgetActions,t.project.canEdit),n(l,34,0,t.project.data,!!t.project.data.settings.keywords);var o=n(l,38,0,"/main/project",t.project.id,"monitoring");n(l,37,0,o),n(l,39,0,"Site Monitoring",null==t.project.data?null:t.project.data.settings.isCrawlingInProgress,t.lastChangesWidgetActions,t.project.canEdit),n(l,41,0,null==t.project.data?null:t.project.data.monitoring);var s=n(l,45,0,"/main/project",t.project.id);n(l,44,0,s),n(l,46,0,"Traffic",null==t.project.data?null:t.project.data.settings.isGAInProgress,t.trafficWidgetActions,t.project.canEdit),n(l,48,0,null==t.project.data?null:t.project.data.traffic,null==t.project.data?null:t.project.data.trafficGraph)}),(function(n,l){var t=l.component;n(l,3,0,t.monitoringFinished?"status-finished":""),n(l,6,0,"https://www.google.com/s2/favicons?domain="+t.project.title),n(l,7,0,e["\u0275nov"](l,8).target,e["\u0275nov"](l,8).href),n(l,9,0,t.project.title),n(l,22,0,e["\u0275nov"](l,25)._isNeedAction),n(l,29,0,e["\u0275nov"](l,32)._isNeedAction),n(l,36,0,e["\u0275nov"](l,39)._isNeedAction),n(l,43,0,e["\u0275nov"](l,46)._isNeedAction)}))}var Ln=t("jlER"),Nn=t("HV9k"),Gn=t("0o4E"),Bn=t("YEd+"),Fn=t("6yTv"),Un=t("CRBG"),Vn=t("aFlJ"),Hn=t("4fNi");class Jn{constructor(n,l){this.action=Hn.a.DASHBOARD_LIST,this.title=n,this.arguments=l}}class qn{constructor(n){this._args=n,this.request={dataActions:[new Jn("dashboard_list_data",{offset:this._args.offset||0,limit:this._args.limit||100,projectType:this._args.projectType||"all"})]}}}var Yn=t("LRne"),zn=t("s7J4"),Wn=t("lJxs"),$n=t("JIr8"),Kn=t("wd/R"),Qn=t("ZAI4"),Zn=t("AytR");const Xn=Object.freeze({descriptionChanges:"Description has changed",h1Changes:"H1 has changed",httpStatusCodesChanges:"Index status has changed",pagesAddedCount:"New pages",pagesAllCount:"Crawled pages",pagesChangesCount:"Pages has changed",pagesDeletedCount:"Pages has deleted",pagesOrphanCount:"Found orphan pages",robotsTxtChanges:"Robots.txt has changed",textContent:"Text content has changed",titleChanges:"Title has changed",wwwRedirectChanges:"www redirect has changed"});class nl{static onGet(n,l="dashboard_list_data"){const t=Qn.a.get(E.a);return n.pipe(Object(Wn.a)(n=>n[l].response),Object(Wn.a)(n=>Object.assign({},n,{list:n.list.map(n=>n.data?n:Object.assign({},n,{data:{rank:null,score:null,settings:null,monitoring:null,traffic_graph:null,traffic:null,free:null}}))})),Object(Wn.a)(n=>Object.assign({},n,{list:n.list.filter(n=>!!n.data)})),Object(Wn.a)(n=>Object.assign({},n,{list:Array.isArray(n.list)?n.list.map(n=>{const l={date:null,changes:[]},e={labels:[],datasets:[]},i={keywords:0,use_ga:!1,use_monitoring:!1},a={labels:[],datasets:[]};let o=null;return o="owner"===n.permission?"My project":"Shared project",n.id===Zn.a.demoProjectId&&(o="Demo"),n.data.free&&(o="Free"),n.data&&n.data.rank&&(a.labels=U.a.serializeForChartLabels(n.data.rank,"date").reverse(),a.datasets=[U.a.serializeForChartDataset(n.data.rank.map(({top3:n,top10:l,top100:t})=>({val:+n+ +l+ +t})).reverse(),"val","Keywords in top 100")]),n.data&&n.data.monitoring&&(l.date=Kn(n.data.monitoring.dateCreate).format("dddd, MMMM DD"),delete n.data.monitoring.dateCreate,U.a.mapObject(n.data.monitoring).map(([n,t])=>{0!==n&&l.changes.push({title:Xn[t],value:n})})),n.data&&n.data.settings&&Object.assign(i,n.data.settings),n.data&&n.data.traffic_graph&&(e.labels=U.a.serializeForChartLabels(n.data.traffic_graph,"date").reverse(),e.datasets=[U.a.serializeForChartDataset(U.a.cloneObj(n.data.traffic_graph).reverse(),"sessions","All traffic"),U.a.serializeForChartDataset(U.a.cloneObj(n.data.traffic_graph).reverse(),"organic_traffic","Organic traffic")]),Object.assign({},n,{permission:o,canView:t.canView(n.id),canEdit:t.canEdit(n.id),canShare:t.canShare(n.id),canRemove:t.canRemove(n.id),shared:"owner"!==n.permission,data:Object.assign({},n.data,{monitoring:l,settings:i,trafficGraph:e,rankGraph:a})})}):[]})),Object($n.a)(n=>(console.warn("Error in DashboardDataBusiness.onGet, ",n),Object(Yn.a)(new zn.a(n)))))}}var ll,tl=t("vkgz"),el=t("eIep");!function(n){n.INITIAL_LOAD_DASHBOARD_LIST="[ Dashboard list ] Initial load",n.START_LOAD_DASHBOARD_LIST="[ Dashboard list ] Start load",n.SUCCESS_LOAD_DASHBOARD_LIST="[ Dashboard list ] Success load",n.SUCCESS_LOAD_PROJECTS_LIST_WITH_OFFSET="[ Dashboard list ] Success load pagination",n.ERROR_LOAD_DASHBOARD_LIST="[ Dashboard list ] Error load",n.START_LOAD_DASHBOARD_SERVICES_STATUSES="[ Dashboard list ] Start load services statuses",n.SUCCESS_LOAD_DASHBOARD_LIST_SERVICES_STATUSES="[ Dashboard list ] Success load services statuses",n.ERROR_LOAD_DASHBOARD_LIST_SERVICES_STATUSES="[ Dashboard list ] Error load services statuses",n.START_LOAD_DASHBOARD_GUEST_PROJECTS="[ Dashboard list ] Start load guest projects",n.SUCCESS_LOAD_DASHBOARD_GUEST_PROJECTS="[ Dashboard list ] Success load guest projects",n.ERROR_LOAD_DASHBOARD_GUEST_PROJECTS="[ Dashboard list ] Error load guest projects",n.START_UPDATE_PROJECT_DATA="[ Dashboard list ] Start update project data",n.SUCCESS_UPDATE_PROJECT_DATA="[ Dashboard list ] Success update project data",n.ERROR_UPDATE_PROJECT_DATA="[ Dashboard list ] Error update project data",n.SUCCESS_DELETE_PROJECT_PROJECT_LIST="[ Dashboard list ] Success delete project",n.CLEAR_DASHBOARD_LIST="[ Dashboard list ] Clear data"}(ll||(ll={}));class il{constructor(n){this.projectsIds=n,this.type=ll.START_UPDATE_PROJECT_DATA}}class al{constructor(n){this.payload=n,this.type=ll.SUCCESS_UPDATE_PROJECT_DATA}}class ol{constructor(n){this.error=n,this.type=ll.ERROR_UPDATE_PROJECT_DATA}}class sl{constructor(){this.type=ll.INITIAL_LOAD_DASHBOARD_LIST}}class rl{constructor(){this.type=ll.START_LOAD_DASHBOARD_LIST}}class ul{constructor(n){this.payload=n,this.type=ll.SUCCESS_LOAD_DASHBOARD_LIST}}class cl{constructor(n){this.payload=n,this.type=ll.SUCCESS_LOAD_PROJECTS_LIST_WITH_OFFSET}}class dl{constructor(){this.type=ll.ERROR_LOAD_DASHBOARD_LIST}}class pl{constructor(n){this.projectId=n,this.type=ll.SUCCESS_DELETE_PROJECT_PROJECT_LIST}}class hl{constructor(){this.type=ll.START_LOAD_DASHBOARD_SERVICES_STATUSES}}class gl{constructor(n){this.payload=n,this.type=ll.SUCCESS_LOAD_DASHBOARD_LIST_SERVICES_STATUSES}}class fl{constructor(n){this.error=n,this.type=ll.ERROR_LOAD_DASHBOARD_LIST_SERVICES_STATUSES}}class _l{constructor(){this.type=ll.START_LOAD_DASHBOARD_GUEST_PROJECTS}}class ml{constructor(n){this.payload=n,this.type=ll.SUCCESS_LOAD_DASHBOARD_GUEST_PROJECTS}}class vl{constructor(n){this.error=n,this.type=ll.ERROR_LOAD_DASHBOARD_GUEST_PROJECTS}}var bl=t("nRYT"),Ol=t("coO8"),Sl=t("QJtd");class Cl{constructor(n=[]){this._domainIds=n,this.request={dataActions:[]},this._domainIds.forEach((n,l)=>{this.request.dataActions.push(new Sl.a("DASHBOARD_PROJECTS_SERVICES_STATUSES"+l,{domainId:n}))})}}var yl=t("YQOM");class Pl{constructor(n){this._projectId=n,this.request={dataActions:[new yl.a("delete_project_req",{domainId:this._projectId})]}}}var wl=t("toND");class jl{constructor(n){this._projectsIds=n,this.request={dataActions:[new Jn("update_projects_data_req",{domainIds:this._projectsIds})]}}}var Rl=t("G/56");class Tl{constructor(n){this._args=n,this.request={dataActions:[new Rl.a("connect_ga_request",{id:+this._args.projectId,external_service:{ga:this._args.authGA}})]}}}var Dl=t("Nq0R"),El=t("+eKz");class Il{constructor(n,l){this._projectId=n,this._email=l,this.request={dataActions:[new El.a("delete_shared_project",{domainId:this._projectId,email:this._email,level:0})]}}}var Al=t("Gfgr");class xl{constructor(n,l,t,e,i){this._graphQlApi=n,this._store=l,this._userPermissions=t,this._auth=e,this._storage=i}getGuestUserProjects(){const n=this._userPermissions.getGuestUserProjects().map(n=>+n.id);return this._store.dispatch(new _l),this._getGuestUserProjects(n).pipe(Object(tl.a)(n=>{this._store.dispatch(n instanceof zn.a?new vl(n):new ml(n))}))}getDashboardData(n,l=!1){return l||this._store.dispatch(n&&n.offset>0?new rl:new sl),this._getDashboardData(n).pipe(Object(tl.a)(l=>{this._store.dispatch(l instanceof zn.a?new dl:n&&n.offset>0?new cl(l):new ul(l))}))}updateProjectsData(n){return this._store.dispatch(new il(n)),this._updateProjectsData(n).pipe(Object(tl.a)(n=>{this._store.dispatch(n instanceof zn.a?new ol(n):new al(n))}),Object(el.a)(l=>this.updateServicesStatuses(n).pipe(Object(Wn.a)(()=>l))))}deleteProject(n,l){return(this._userPermissions.isGuest?this._deleteGuestProject(n):l?this._deleteSharedProject(n):this._deleteProject(n)).pipe(Object(tl.a)(l=>{l instanceof zn.a||this._store.dispatch(new pl(n))}),Object(el.a)(n=>this._auth.getMe().pipe(Object(Wn.a)(l=>n))))}updateServicesStatuses(n){return this._store.dispatch(new hl),this._getServicesStatuses(n).pipe(Object(tl.a)(n=>{this._store.dispatch(n instanceof zn.a?new fl(n):new gl(n))}))}connectGA(n){return this._connectGA(n).pipe(Object(tl.a)(n=>{}))}_getDashboardData(n){return nl.onGet(this._graphQlApi.request(new qn(n)))}_deleteProject(n){return class{static onGet(n){return n.pipe(Object(Wn.a)(n=>n.delete_project_req),Object(Wn.a)(n=>n.status===wl.b.FAILED?new zn.a("Cant delete project"):n),Object($n.a)(n=>(console.warn("Error in DeleteProjectBusiness.onGet",n),Object(Yn.a)(new zn.a(n)))))}}.onGet(this._graphQlApi.request(new Pl(n)))}_deleteSharedProject(n){return class{static onGet(n){return n.pipe(Object(Wn.a)(n=>n.delete_shared_project),Object(Wn.a)(n=>n.status===wl.b.FAILED?new zn.a("Cant delete project"):n),Object($n.a)(n=>(console.warn("Error in DeleteSharedProjectBusiness.onGet",n),Object(Yn.a)(new zn.a(n)))))}}.onGet(this._graphQlApi.request(new Il(n,this._userPermissions.userEmail)))}_deleteGuestProject(n){let l=this._storage.get(V.l);return l=l.filter(l=>l.id!==n),this._storage.set(V.l,l),Object(Yn.a)({status:"success"})}_getServicesStatuses(n){return class{static onGet(n){return n.pipe(Object(Wn.a)(n=>U.a.mapObject(n).map(([n])=>{const l=n.response.services,t=l.find(n=>n.title===bl.a.CrawlingSyncService),e=l.find(n=>n.title===bl.a.PositionUpdateService),i=l.find(n=>n.title===bl.a.GaUpdateService),a=l.find(n=>n.title===bl.a.SitecheckerUpdateService),o=l.find(n=>n.title===bl.a.FirstTimeSyncService);return{id:+n.arguments.domainId,services:{isGAInProgress:o.status===Ol.a.IN_PROGRESS||i.status===Ol.a.IN_PROGRESS,isCrawlingInProgress:o.status===Ol.a.IN_PROGRESS||t.status===Ol.a.IN_PROGRESS,isPositionsInProgress:o.status===Ol.a.IN_PROGRESS||e.status===Ol.a.IN_PROGRESS,isSitecheckerInProgress:o.status===Ol.a.IN_PROGRESS||a.status===Ol.a.IN_PROGRESS}}})),Object($n.a)(n=>(console.warn("Error in GetProjectsStatusesActionBusiness, ",n),Object(Yn.a)(new zn.a(n)))))}}.onGet(this._graphQlApi.request(new Cl(n)))}_updateProjectsData(n){return nl.onGet(this._graphQlApi.request(new jl(n)),"update_projects_data_req").pipe(Object(Wn.a)(n=>n instanceof zn.a?n:n.list))}_connectGA(n){return class{static onGet(n){return n.pipe(Object(Wn.a)(n=>n.connect_ga_request.response),Object($n.a)(n=>(console.warn("Error in ConnectGaActionBusiness.onGet, ",n),Object(Yn.a)(new zn.a(n)))))}}.onGet(this._graphQlApi.request(new Tl(n)))}_getGuestUserProjects(n){return nl.onGet(this._graphQlApi.request(new jl(n)),"update_projects_data_req")}}var Ml=t("DQLy"),kl=t("Wkwn"),Ll=t("z+ja");function Nl(n=new kl.a,l){switch(l.type){case ll.INITIAL_LOAD_DASHBOARD_LIST:case ll.START_LOAD_DASHBOARD_GUEST_PROJECTS:return Object.assign({},n,{isLoading:!0,data:n.data?Object.assign({},n.data,{list:[],total:null}):null,error:null});case ll.START_LOAD_DASHBOARD_LIST:return Object.assign({},n,{isLoading:!0,error:null});case ll.SUCCESS_LOAD_DASHBOARD_LIST:case ll.SUCCESS_LOAD_DASHBOARD_GUEST_PROJECTS:return Object.assign({},n,{isLoad:!0,isLoading:!1,dateUpdate:new Date,data:Object.assign({},l.payload),error:null});case ll.SUCCESS_LOAD_PROJECTS_LIST_WITH_OFFSET:return Object.assign({},n,{isLoad:!0,isLoading:!1,dateUpdate:new Date,data:Object.assign({},n.data,{list:[...n.data.list,...l.payload.list]}),error:null});case ll.SUCCESS_DELETE_PROJECT_PROJECT_LIST:return Object.assign({},n,{data:Object.assign({},n.data,{list:n.data.list.filter(n=>n.id!==l.projectId)})});case ll.ERROR_LOAD_DASHBOARD_LIST:case ll.ERROR_LOAD_DASHBOARD_GUEST_PROJECTS:return Object.assign({},n,{isLoading:!1,error:!0});case ll.START_LOAD_DASHBOARD_SERVICES_STATUSES:return n;case ll.SUCCESS_LOAD_DASHBOARD_LIST_SERVICES_STATUSES:return Object.assign({},n,{data:Object.assign({},n.data,{list:n.data.list.map(n=>{const t=l.payload.find(l=>l.id===n.id);return t?Object.assign({},n,{data:Object.assign({},n.data,{settings:Object.assign({},n.data.settings,t.services)})}):n})})});case ll.ERROR_LOAD_DASHBOARD_LIST_SERVICES_STATUSES:case ll.START_UPDATE_PROJECT_DATA:return n;case ll.SUCCESS_UPDATE_PROJECT_DATA:return Object.assign({},n,{data:Object.assign({},n.data,{list:U.a.mergeArrayByProp(U.a.cloneObj(n.data.list),l.payload)})});case ll.ERROR_UPDATE_PROJECT_DATA:return n;case ll.CLEAR_DASHBOARD_LIST:return new kl.a;default:return n}}const Gl=Object(Ml.u)(Ll.a.DASHBOARD_LIST);var Bl=t("VoD+"),Fl=t("lOxo"),Ul=t("1G5W"),Vl=t("PfrF"),Hl=t("Kj3r"),Jl=t("pLZG"),ql=t("/uUt"),Yl=t("SxV6"),zl=t("JX91"),Wl=t("Zy1z"),$l=t("XH+a"),Kl=t("Qom1"),Ql=t("nh+H"),Zl=t("zCIO"),Xl=t("7dL1"),nt=t("Vdk1");class lt{constructor(n,l,t,e,i){this.userPermissions=n,this.dialogRef=l,this._data=t,this._window=e,this._router=i,this._destroy$=new jn.b,this.dialogRef.disableClose=!0}ngOnInit(){}ngOnDestroy(){this._destroy$.next(),this._destroy$.unsubscribe()}close(){this.dialogRef.disableClose=!1,this.dialogRef.close()}navigateToPricing(){this._router.navigate(["/main/pricing"]),this.dialogRef.close()}}var tt=function(n){return n.ALL="All projects",n.SHARED_PROJECTS="Shared projects",n.ONLY_MY="Only my projects",n}({});const et={[tt.ALL]:"all",[tt.ONLY_MY]:"owner",[tt.SHARED_PROJECTS]:"shared"};class it{constructor(n,l,t,e,i,a,o,s,r,u,c,d,p){this.userPermissions=n,this._dashboardService=l,this._cd=t,this._store=e,this._dialog=i,this._shareProjectService=a,this._snackBar=o,this._router=s,this._hostEl=r,this._google=u,this._window=c,this._userWSService=d,this._scrollService=p,this.projectsTypeCtrl=new h.f(tt.ALL,[]),this.PROJECT_TYPES=tt,this._destroy$=new jn.b,this._currentProjectsOffset=0,this._isLoading=!1,this._projectsLoaded=0,this._projectsTotal=null,this._checkInterval=15e3,this.dashboardData$=this._store.pipe(Object(Ml.x)(Gl)),this.dashboardData$.subscribe(n=>{this._isLoading=n.isLoading,this._projectsLoaded=n.data?n.data.list.length:0,this._projectsTotal=n.data?n.data.total:null,this._loadedProjectsIds=n.data&&n.data.list?n.data.list.map(n=>n.id):null}),this._userWSService.watchServicesChanges().pipe(Object(Ul.a)(this._destroy$),Object(Vl.a)(()=>this._userWSService.watchServicesChanges().pipe(Object(Hl.a)(1e4))),Object(Jl.a)(n=>!!n.length)).subscribe(n=>{this._dashboardService.updateProjectsData(Object(On.uniq)(n.filter(n=>this.hasProjectInList(n.id)).map(n=>n.id))).subscribe()})}ngOnInit(){this.userPermissions.change$.pipe(Object(Ul.a)(this._destroy$),Object(Jl.a)(n=>!!n.currentUser),Object(Wn.a)(n=>n.currentUser.id),Object(ql.a)((n,l)=>n===l),Object(tl.a)(()=>this.loadProjects())).subscribe(),this.subscribeToProjectTypeFilter(),this.userPermissions.change$.pipe(Object(Ul.a)(this._destroy$),Object(Jl.a)(n=>!n.isGuest),Object(Yl.a)()).subscribe(n=>this.initPaginationLogic())}ngOnDestroy(){this._destroy$.next(),this._destroy$.unsubscribe()}hasProjectInList(n){return Array.isArray(this._loadedProjectsIds)&&this._loadedProjectsIds.includes(n)}subscribeToProjectTypeFilter(){this.projectsTypeCtrl.valueChanges.pipe(Object(Ul.a)(this._destroy$)).subscribe(n=>{this.loadProjects(0)})}initPaginationLogic(){this._scrollService.getScrollDirectiveInstance("mainContainer").scrollEvent$.pipe(Object(Ul.a)(this._destroy$),Object(Wn.a)(n=>n.target.scrollTop),Object(zl.a)(0),Object(Jl.a)(n=>0===n||!!n),Object(Wl.a)(),Object(Jl.a)(([n,l])=>n<l),Object(Jl.a)(([n,l])=>{const{scrollHeight:t,clientHeight:e}=this._hostEl.nativeElement;return l>.5*t&&l>t-2*e}),Object(Hl.a)(50),Object(tl.a)(n=>this._onScroll())).subscribe()}watchServicesStatuses(){this.unwatchServicesStatuses(),this._intervalId=this._window.setInterval(()=>{return n=this,void 0,t=function*(){Array.isArray(this._loadedProjectsIds)&&this._dashboardService.updateServicesStatuses(this._loadedProjectsIds).subscribe()},new((l=void 0)||(l=Promise))((function(e,i){function a(n){try{s(t.next(n))}catch(l){i(l)}}function o(n){try{s(t.throw(n))}catch(l){i(l)}}function s(n){n.done?e(n.value):new l((function(l){l(n.value)})).then(a,o)}s((t=t.apply(n,[])).next())}));var n,l,t},this._checkInterval)}unwatchServicesStatuses(){this._window.clearInterval(this._intervalId)}loadProjects(n,l=10,t=!1){this.userPermissions.isGuest?this._dashboardService.getGuestUserProjects().pipe(Object(tl.a)(n=>{setTimeout(n=>this._dashboardService.updateServicesStatuses(this._loadedProjectsIds).subscribe())})).subscribe():(U.a.isNumber(n)&&(this._currentProjectsOffset=n),this._dashboardService.getDashboardData({limit:l,offset:this._currentProjectsOffset,projectType:et[this.projectsTypeCtrl.value]},t).pipe(Object(tl.a)(n=>{setTimeout(n=>this._dashboardService.updateServicesStatuses(this._loadedProjectsIds).subscribe())})).subscribe(),this._currentProjectsOffset+=10)}deleteProject(n,l){this._dialog.open(Fl.a,{maxWidth:500,data:{actionDescription:!l||this.userPermissions.isGuest?"Are you sure want delete project?":`This project was shared to you by ${n.owner_email}, \n             if you you approve this action permissions will denied and you need to ask them again to owner again.\n              Are you sure you want to delete this site from your project list?`}}).afterClosed().pipe(Object(Jl.a)(n=>!!n),Object(el.a)(t=>this._dashboardService.deleteProject(n.id,l))).subscribe(n=>{"success"===n.status?(this._snackBar.open("Project deleted!",null,{duration:1e3}),this._dashboardService.updateProjectsData(this._loadedProjectsIds).subscribe()):this._snackBar.open("You haven't permissions for deleting this project",null,{duration:3e3})})}shareProject(n){this._shareProjectService.openSharingDialog(n.id,n.title).subscribe(n=>{})}navToEditProject(n,l=2){this.userPermissions.isGuest||this.userPermissions.isFreeUser?this.showQuotaWarningMessage():this._router.navigate([`./main/edit-project/${n}`],{queryParams:{step:l}}).then()}addKeywords(n){this.navToEditProject(n,4)}startMonitoring(n){this.navToEditProject(n,2)}connectGA(n){this.userPermissions.isGuest||this.userPermissions.isFreeUser?this.showQuotaWarningMessage():this._google.selectGoogleAccountForAnalytic().pipe(Object(el.a)(()=>this._dialog.open($l.a,{width:"750px",disableClose:!0,data:{domain:n.title}}).afterClosed().pipe(Object(el.a)(()=>this._store.pipe(Object(Ml.x)(Zl.b),Object(Yl.a)(),Object(Wn.a)(n=>n.data)))))).subscribe(l=>{this._dashboardService.connectGA({projectId:n.id,authGA:l}).pipe(Object(el.a)(()=>this._dashboardService.updateProjectsData([n.id]))).subscribe()})}showQuotaWarningMessage(){this._dialog.open(this.userPermissions.isExpired?Ql.a:lt)}createProjectBtnClick(){!this.userPermissions.isGuest&&this.userPermissions.canUserAddProject?this._router.navigate(["/main/create-project"]):this._dialog.open(Ql.a)}trackByFn(n,l){return l.id}_onScroll(){this._isLoading||this._projectsLoaded===this._projectsTotal||this.loadProjects()}}var at=t("s6ns"),ot=t("dFDH"),st=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto;overflow-y:auto}[_nghost-%COMP%]   .dashboard-container__preloader-wrapper[_ngcontent-%COMP%]{position:relative;height:160px}[_nghost-%COMP%]   .dashboard-container__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .dashboard-container__title[_ngcontent-%COMP%]{font-weight:500;font-size:24px;margin:0}[_nghost-%COMP%]   .dashboard-container__actions[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .dashboard-container__actions[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{transform:scale(.92);transform-origin:top}[_nghost-%COMP%]   .dashboard-container__actions[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-infix{border-top-width:.5em}[_nghost-%COMP%]   .dashboard-container__actions[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0;margin:0}[_nghost-%COMP%]   .dashboard-container__actions[_ngcontent-%COMP%]   a.mat-stroked-button[_ngcontent-%COMP%]{line-height:40px}[_nghost-%COMP%]   .dashboard-container__actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:42px}[_nghost-%COMP%]   .dashboard-container__actions[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-right:12px}[_nghost-%COMP%]   .dashboard-container__projects-list[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;position:relative}[_nghost-%COMP%]   .dashboard-container__no-projects-msg[_ngcontent-%COMP%]{font-size:26px;height:calc(100vh - 217px);display:flex;align-items:center;justify-content:center}"]],data:{}});function rt(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,29,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,o.b,o.a)),e["\u0275did"](1,7520256,null,9,s.c,[e.ElementRef,e.ChangeDetectorRef,[2,r.h],[2,u.b],[2,s.a],c.a,e.NgZone,[2,d.a]],{appearance:[0,"appearance"]},null),e["\u0275qud"](603979776,1,{_controlNonStatic:0}),e["\u0275qud"](335544320,2,{_controlStatic:0}),e["\u0275qud"](603979776,3,{_labelChildNonStatic:0}),e["\u0275qud"](335544320,4,{_labelChildStatic:0}),e["\u0275qud"](603979776,5,{_placeholderChild:0}),e["\u0275qud"](603979776,6,{_errorChildren:1}),e["\u0275qud"](603979776,7,{_hintChildren:1}),e["\u0275qud"](603979776,8,{_prefixChildren:1}),e["\u0275qud"](603979776,9,{_suffixChildren:1}),(n()(),e["\u0275eld"](11,0,null,1,18,"mat-select",[["class","mat-select"],["placeholder","Filter:"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"keydown"],[null,"focus"],[null,"blur"]],(function(n,l,t){var i=!0;return"keydown"===l&&(i=!1!==e["\u0275nov"](n,15)._handleKeydown(t)&&i),"focus"===l&&(i=!1!==e["\u0275nov"](n,15)._onFocus()&&i),"blur"===l&&(i=!1!==e["\u0275nov"](n,15)._onBlur()&&i),i}),p.b,p.a)),e["\u0275did"](12,540672,null,0,h.g,[[8,null],[8,null],[8,null],[2,h.A]],{form:[0,"form"]},null),e["\u0275prd"](2048,null,h.o,null,[h.g]),e["\u0275did"](14,16384,null,0,h.p,[[4,h.o]],null,null),e["\u0275did"](15,2080768,null,3,g.c,[f.j,e.ChangeDetectorRef,e.NgZone,r.b,e.ElementRef,[2,u.b],[2,h.r],[2,h.j],[2,s.c],[6,h.o],[8,null],g.a,_.j],{placeholder:[0,"placeholder"]},null),e["\u0275qud"](603979776,10,{options:1}),e["\u0275qud"](603979776,11,{optionGroups:1}),e["\u0275qud"](603979776,12,{customTrigger:0}),e["\u0275prd"](2048,[[1,4],[2,4]],s.d,null,[g.c]),e["\u0275prd"](2048,null,r.j,null,[g.c]),(n()(),e["\u0275eld"](21,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n,22)._selectViaInteraction()&&i),"keydown"===l&&(i=!1!==e["\u0275nov"](n,22)._handleKeydown(t)&&i),i}),m.c,m.a)),e["\u0275did"](22,8568832,[[10,4]],0,r.p,[e.ElementRef,e.ChangeDetectorRef,[2,r.j],[2,r.o]],{value:[0,"value"]},null),(n()(),e["\u0275ted"](23,0,[" "," "])),(n()(),e["\u0275eld"](24,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n,25)._selectViaInteraction()&&i),"keydown"===l&&(i=!1!==e["\u0275nov"](n,25)._handleKeydown(t)&&i),i}),m.c,m.a)),e["\u0275did"](25,8568832,[[10,4]],0,r.p,[e.ElementRef,e.ChangeDetectorRef,[2,r.j],[2,r.o]],{value:[0,"value"]},null),(n()(),e["\u0275ted"](26,0,[" "," "])),(n()(),e["\u0275eld"](27,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n,28)._selectViaInteraction()&&i),"keydown"===l&&(i=!1!==e["\u0275nov"](n,28)._handleKeydown(t)&&i),i}),m.c,m.a)),e["\u0275did"](28,8568832,[[10,4]],0,r.p,[e.ElementRef,e.ChangeDetectorRef,[2,r.j],[2,r.o]],{value:[0,"value"]},null),(n()(),e["\u0275ted"](29,0,[" "," "]))],(function(n,l){var t=l.component;n(l,1,0,"outline"),n(l,12,0,t.projectsTypeCtrl),n(l,15,0,"Filter:"),n(l,22,0,t.PROJECT_TYPES.ALL),n(l,25,0,t.PROJECT_TYPES.SHARED_PROJECTS),n(l,28,0,t.PROJECT_TYPES.ONLY_MY)}),(function(n,l){var t=l.component;n(l,0,1,["standard"==e["\u0275nov"](l,1).appearance,"fill"==e["\u0275nov"](l,1).appearance,"outline"==e["\u0275nov"](l,1).appearance,"legacy"==e["\u0275nov"](l,1).appearance,e["\u0275nov"](l,1)._control.errorState,e["\u0275nov"](l,1)._canLabelFloat,e["\u0275nov"](l,1)._shouldLabelFloat(),e["\u0275nov"](l,1)._hasFloatingLabel(),e["\u0275nov"](l,1)._hideControlPlaceholder(),e["\u0275nov"](l,1)._control.disabled,e["\u0275nov"](l,1)._control.autofilled,e["\u0275nov"](l,1)._control.focused,"accent"==e["\u0275nov"](l,1).color,"warn"==e["\u0275nov"](l,1).color,e["\u0275nov"](l,1)._shouldForward("untouched"),e["\u0275nov"](l,1)._shouldForward("touched"),e["\u0275nov"](l,1)._shouldForward("pristine"),e["\u0275nov"](l,1)._shouldForward("dirty"),e["\u0275nov"](l,1)._shouldForward("valid"),e["\u0275nov"](l,1)._shouldForward("invalid"),e["\u0275nov"](l,1)._shouldForward("pending"),!e["\u0275nov"](l,1)._animationsEnabled]),n(l,11,1,[e["\u0275nov"](l,14).ngClassUntouched,e["\u0275nov"](l,14).ngClassTouched,e["\u0275nov"](l,14).ngClassPristine,e["\u0275nov"](l,14).ngClassDirty,e["\u0275nov"](l,14).ngClassValid,e["\u0275nov"](l,14).ngClassInvalid,e["\u0275nov"](l,14).ngClassPending,e["\u0275nov"](l,15).id,e["\u0275nov"](l,15).tabIndex,e["\u0275nov"](l,15)._getAriaLabel(),e["\u0275nov"](l,15)._getAriaLabelledby(),e["\u0275nov"](l,15).required.toString(),e["\u0275nov"](l,15).disabled.toString(),e["\u0275nov"](l,15).errorState,e["\u0275nov"](l,15).panelOpen?e["\u0275nov"](l,15)._optionIds:null,e["\u0275nov"](l,15).multiple,e["\u0275nov"](l,15)._ariaDescribedby||null,e["\u0275nov"](l,15)._getAriaActiveDescendant(),e["\u0275nov"](l,15).disabled,e["\u0275nov"](l,15).errorState,e["\u0275nov"](l,15).required,e["\u0275nov"](l,15).empty]),n(l,21,0,e["\u0275nov"](l,22)._getTabIndex(),e["\u0275nov"](l,22).selected,e["\u0275nov"](l,22).multiple,e["\u0275nov"](l,22).active,e["\u0275nov"](l,22).id,e["\u0275nov"](l,22)._getAriaSelected(),e["\u0275nov"](l,22).disabled.toString(),e["\u0275nov"](l,22).disabled),n(l,23,0,t.PROJECT_TYPES.ALL),n(l,24,0,e["\u0275nov"](l,25)._getTabIndex(),e["\u0275nov"](l,25).selected,e["\u0275nov"](l,25).multiple,e["\u0275nov"](l,25).active,e["\u0275nov"](l,25).id,e["\u0275nov"](l,25)._getAriaSelected(),e["\u0275nov"](l,25).disabled.toString(),e["\u0275nov"](l,25).disabled),n(l,26,0,t.PROJECT_TYPES.SHARED_PROJECTS),n(l,27,0,e["\u0275nov"](l,28)._getTabIndex(),e["\u0275nov"](l,28).selected,e["\u0275nov"](l,28).multiple,e["\u0275nov"](l,28).active,e["\u0275nov"](l,28).id,e["\u0275nov"](l,28)._getAriaSelected(),e["\u0275nov"](l,28).disabled.toString(),e["\u0275nov"](l,28).disabled),n(l,29,0,t.PROJECT_TYPES.ONLY_MY)}))}function ut(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,3,"a",[["color","primary"],["mat-stroked-button",""],["routerLink","../../list"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e["\u0275nov"](n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),"click"===l&&(i=!1!==e["\u0275nov"](n,2)._haltDisabledEvents(t)&&i),i}),v.c,v.a)),e["\u0275did"](1,671744,null,0,b.r,[b.o,b.a,O.LocationStrategy],{routerLink:[0,"routerLink"]},null),e["\u0275did"](2,180224,null,0,S.a,[_.h,e.ElementRef,[2,d.a]],{color:[0,"color"]},null),(n()(),e["\u0275ted"](-1,0,["Go to list"]))],(function(n,l){n(l,1,0,"../../list"),n(l,2,0,"primary")}),(function(n,l){n(l,0,0,e["\u0275nov"](l,1).target,e["\u0275nov"](l,1).href,e["\u0275nov"](l,2).disabled?-1:e["\u0275nov"](l,2).tabIndex||0,e["\u0275nov"](l,2).disabled||null,e["\u0275nov"](l,2).disabled.toString(),"NoopAnimations"===e["\u0275nov"](l,2)._animationMode)}))}function ct(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-dashboard-project",[],[[2,"app-cell",null],[2,"expired",null]],[[null,"delete"],[null,"share"],[null,"edit"],[null,"addKeywords"],[null,"startMonitoring"],[null,"connectGA"]],(function(n,l,t){var e=!0,i=n.component;return"delete"===l&&(e=!1!==i.deleteProject(n.context.$implicit,t)&&e),"share"===l&&(e=!1!==i.shareProject(n.context.$implicit)&&e),"edit"===l&&(e=!1!==i.navToEditProject(n.context.$implicit.id)&&e),"addKeywords"===l&&(e=!1!==i.addKeywords(t)&&e),"startMonitoring"===l&&(e=!1!==i.startMonitoring(t)&&e),"connectGA"===l&&(e=!1!==i.connectGA(t)&&e),e}),kn,Dn)),e["\u0275did"](1,770048,null,0,Tn,[E.a,Rn.a,e.ChangeDetectorRef],{project:[0,"project"]},{delete:"delete",edit:"edit",share:"share",addKeywords:"addKeywords",startMonitoring:"startMonitoring",connectGA:"connectGA"})],(function(n,l){n(l,1,0,l.context.$implicit)}),(function(n,l){n(l,0,0,e["\u0275nov"](l,1).appCellClass,e["\u0275nov"](l,1).expired)}))}function dt(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,ct)),e["\u0275did"](2,278528,null,0,O.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e["\u0275and"](0,null,null,0))],(function(n,l){n(l,2,0,null==l.parent.context.ngIf.data?null:l.parent.context.ngIf.data.list,l.component.trackByFn)}),null)}function pt(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","dashboard-container__preloader-wrapper"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"app-progress-spinner",[],null,null,null,Ln.b,Ln.a)),e["\u0275did"](2,114688,null,0,Nn.a,[],null,null)],(function(n,l){n(l,2,0)}),null)}function ht(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","dashboard-container__no-projects-msg secondary-text"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" No projects yet "]))],null,null)}function gt(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-progress-spinner",[],null,null,null,Ln.b,Ln.a)),e["\u0275did"](1,114688,null,0,Nn.a,[],null,null)],(function(n,l){n(l,1,0)}),null)}function ft(n){return e["\u0275vid"](0,[(n()(),e["\u0275and"](16777216,null,null,1,null,ht)),e["\u0275did"](1,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,gt)),e["\u0275did"](3,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](0,null,null,0))],(function(n,l){n(l,1,0,!l.parent.context.ngIf.isLoading),n(l,3,0,l.parent.context.ngIf.isLoading)}),null)}function _t(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,19,null,null,null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,17,"div",[["class","page-layout simple fullwidth dashboard-container"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,11,"div",[["class","header dashboard-container__header"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,1,"app-breadcrumbs",[],null,null,null,Gn.b,Gn.a)),e["\u0275did"](4,245760,null,0,Bn.a,[Fn.a,Un.g,E.a],null,null),(n()(),e["\u0275eld"](5,0,null,null,8,"div",[["class","dashboard-container__actions"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,rt)),e["\u0275did"](7,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,ut)),e["\u0275did"](9,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](10,0,null,null,3,"button",[["at","create"],["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.createProjectBtnClick()&&e),e}),v.d,v.b)),e["\u0275did"](11,4210688,null,0,C.a,[e.ElementRef,e.Renderer2],{at:[0,"at"]},null),e["\u0275did"](12,180224,null,0,S.b,[e.ElementRef,_.h,[2,d.a]],{color:[0,"color"]},null),(n()(),e["\u0275ted"](-1,0,[" Create Project "])),(n()(),e["\u0275eld"](14,0,null,null,2,"div",[["class","dashboard-container__projects-list"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,dt)),e["\u0275did"](16,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,pt)),e["\u0275did"](18,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](0,[["noProjectsMessage",2]],null,0,null,ft))],(function(n,l){var t=l.component;n(l,4,0),n(l,7,0,!t.userPermissions.isGuest),n(l,9,0,!t.userPermissions.isGuest),n(l,11,0,"create"),n(l,12,0,"accent"),n(l,16,0,null==l.context.ngIf.data?null:null==l.context.ngIf.data.list?null:l.context.ngIf.data.list.length,e["\u0275nov"](l,19)),n(l,18,0,l.context.ngIf.isLoading&&(null==l.context.ngIf.data?null:null==l.context.ngIf.data.list?null:l.context.ngIf.data.list.length))}),(function(n,l){n(l,10,0,e["\u0275nov"](l,12).disabled||null,"NoopAnimations"===e["\u0275nov"](l,12)._animationMode)}))}function mt(n){return e["\u0275vid"](0,[(n()(),e["\u0275and"](16777216,null,null,2,null,_t)),e["\u0275did"](1,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),e["\u0275pid"](131072,O.AsyncPipe,[e.ChangeDetectorRef])],(function(n,l){var t=l.component;n(l,1,0,e["\u0275unv"](l,1,0,e["\u0275nov"](l,2).transform(t.dashboardData$)))}),null)}var vt=t("Mkc6");class bt{constructor(n,l,t){this.userPermissions=n,this.catalogues=l,this._sanitizer=t,this.BASE_URL=V.b,this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(this.BASE_URL+"en/seo-platform-app/")}ngOnInit(){}showToolPreview(n){return(this.userPermissions.isGuest||this.userPermissions.isFreeUser)&&n.isLoad&&!n.data.length}}var Ot=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}"]],data:{}});function St(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-dashboard-container",[],null,null,null,mt,st)),e["\u0275did"](1,245760,null,0,it,[E.a,xl,e.ChangeDetectorRef,Ml.n,at.e,Bl.a,ot.c,b.o,e.ElementRef,Kl.a,"WINDOW",Xl.a,nt.a],null,null)],(function(n,l){n(l,1,0)}),null)}function Ct(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"iframe",[["class","iframe-tool-land"],["data-hj-allow-iframe",""],["frameborder","0"]],[[8,"src",5]],null,null,null,null))],null,(function(n,l){n(l,0,0,l.component.iframeSrc)}))}function yt(n){return e["\u0275vid"](0,[(n()(),e["\u0275and"](16777216,null,null,1,null,Ct)),e["\u0275did"](1,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](2,0,null,null,0,"div",[["class","iframe-tool-land-overlay"]],null,null,null,null,null))],(function(n,l){n(l,1,0,!!l.component.iframeSrc)}),null)}function Pt(n){return e["\u0275vid"](2,[(n()(),e["\u0275and"](16777216,null,null,2,null,St)),e["\u0275did"](1,16384,null,0,O.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e["\u0275pid"](131072,O.AsyncPipe,[e.ChangeDetectorRef]),(n()(),e["\u0275and"](0,[["toolPreviewTpl",2]],null,0,null,yt))],(function(n,l){var t=l.component;n(l,1,0,!t.showToolPreview(e["\u0275unv"](l,1,0,e["\u0275nov"](l,2).transform(t.catalogues.getProjects()))),e["\u0275nov"](l,3))}),null)}function wt(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-dashboard-view",[],null,null,null,Pt,Ot)),e["\u0275did"](1,114688,null,0,bt,[E.a,vt.a,w.c],null,null)],(function(n,l){n(l,1,0)}),null)}var jt=e["\u0275ccf"]("app-dashboard-view",bt,wt,{},{},[]),Rt=t("NcP4"),Tt=t("wyvQ"),Dt=t("drdv"),Et=t("83zJ"),It=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .dialog-tariff-warn__desc[_ngcontent-%COMP%]{max-width:372px;margin:0 0 26px}[_nghost-%COMP%]   .dialog-tariff-warn__btns[_ngcontent-%COMP%]{display:flex;align-items:center}"]],data:{}});function At(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,14,"app-dialog-template",[["title","Restricted functional"]],null,null,null,Dt.b,Dt.a)),e["\u0275did"](1,245760,null,0,Et.a,[e.Injector],{title:[0,"title"],hideCloseBtn:[1,"hideCloseBtn"]},null),(n()(),e["\u0275eld"](2,0,null,0,12,"div",[["class","dialog-tariff-warn"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,4,"div",[["class","dialog-tariff-warn__desc"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](5,null,[" Your tariff is "," and it has restricted functional. Upgrade your plan to use more advanced features "])),(n()(),e["\u0275eld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" Please consider upgrading your plan to increase the limit."])),(n()(),e["\u0275eld"](8,0,null,null,6,"div",[["class","dialog-tariff-warn__btns"]],null,null,null,null,null)),(n()(),e["\u0275eld"](9,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.navigateToPricing()&&e),e}),v.d,v.b)),e["\u0275did"](10,180224,null,0,S.b,[e.ElementRef,_.h,[2,d.a]],{color:[0,"color"]},null),(n()(),e["\u0275ted"](-1,0,[" See pricing "])),(n()(),e["\u0275eld"](12,0,null,null,2,"button",[["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.close()&&e),e}),v.d,v.b)),e["\u0275did"](13,180224,null,0,S.b,[e.ElementRef,_.h,[2,d.a]],null,null),(n()(),e["\u0275ted"](-1,0,[" Cancel "]))],(function(n,l){n(l,1,0,"Restricted functional",!0),n(l,10,0,"accent")}),(function(n,l){n(l,5,0,l.component.userPermissions.planName),n(l,9,0,e["\u0275nov"](l,10).disabled||null,"NoopAnimations"===e["\u0275nov"](l,10)._animationMode),n(l,12,0,e["\u0275nov"](l,13).disabled||null,"NoopAnimations"===e["\u0275nov"](l,13)._animationMode)}))}function xt(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-limit-reached-dialog",[],null,null,null,At,It)),e["\u0275did"](1,245760,null,0,lt,[E.a,at.j,at.a,"WINDOW",b.o],null,null)],(function(n,l){n(l,1,0)}),null)}var Mt=e["\u0275ccf"]("app-limit-reached-dialog",lt,xt,{},{},[]),kt=t("t68o"),Lt=t("/q54"),Nt=t("POq0");class Gt{}var Bt=t("xdbM"),Ft=t("qksF"),Ut=t("IT/a"),Vt=t("VDRc"),Ht=t("ura0"),Jt=t("Nhcz"),qt=t("u9T3"),Yt=t("BzsH"),zt=t("zMNK"),Wt=t("Zv/1"),$t=t("02hT"),Kt=t("Q+lL"),Qt=t("niqm");class Zt{}var Xt=t("3fEm"),ne=t("OCEO"),le=t("DYyW"),te=t("3JeX");t.d(l,"DashboardModuleNgFactory",(function(){return ee}));var ee=e["\u0275cmf"](i,[],(function(n){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,jt,Rt.a,Tt.a,Mt,kt.a]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,O.NgLocalization,O.NgLocaleLocalization,[e.LOCALE_ID,[2,O["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,h.e,h.e,[]),e["\u0275mpd"](4608,h.z,h.z,[]),e["\u0275mpd"](4608,sn.a,sn.a,[e.RendererFactory2,b.o]),e["\u0275mpd"](4608,an.a,an.a,[O.DatePipe]),e["\u0275mpd"](4608,un.a,un.a,[Sn.a]),e["\u0275mpd"](5120,e.APP_BOOTSTRAP_LISTENER,(function(n,l){return[Lt.k(n,l)]}),[O.DOCUMENT,e.PLATFORM_ID]),e["\u0275mpd"](4608,Nt.c,Nt.c,[]),e["\u0275mpd"](4608,P.c,P.c,[P.i,P.e,e.ComponentFactoryResolver,P.h,P.f,e.Injector,e.NgZone,O.DOCUMENT,u.b,[2,O.Location]]),e["\u0275mpd"](5120,P.j,P.k,[P.c]),e["\u0275mpd"](5120,y.b,y.c,[P.c]),e["\u0275mpd"](4608,w.f,r.c,[[2,r.g],[2,r.l]]),e["\u0275mpd"](5120,g.a,g.b,[P.c]),e["\u0275mpd"](5120,at.c,at.d,[P.c]),e["\u0275mpd"](135680,at.e,at.e,[P.c,e.Injector,[2,O.Location],[2,at.b],at.c,[3,at.e],P.e]),e["\u0275mpd"](4608,xl,xl,[Vn.a,Ml.n,E.a,Dl.a,Al.a]),e["\u0275mpd"](1073742336,O.CommonModule,O.CommonModule,[]),e["\u0275mpd"](1073742336,h.y,h.y,[]),e["\u0275mpd"](1073742336,h.u,h.u,[]),e["\u0275mpd"](1073742336,h.l,h.l,[]),e["\u0275mpd"](1073742336,b.s,b.s,[[2,b.y],[2,b.o]]),e["\u0275mpd"](1073742336,Gt,Gt,[]),e["\u0275mpd"](1024,Ml.E,(function(){return[{}]}),[]),e["\u0275mpd"](1024,Ml.j,(function(){return[{key:"dashboardList",reducerFactory:Ml.s,metaReducers:[],initialState:void 0}]}),[]),e["\u0275mpd"](1024,Ml.F,Ml.L,[e.Injector,Ml.E,Ml.j]),e["\u0275mpd"](1024,Ml.D,(function(){return[Nl]}),[]),e["\u0275mpd"](1024,Ml.G,(function(n){return[n]}),[Ml.D]),e["\u0275mpd"](1024,Ml.b,(function(n,l,t){return[Ml.M(n,l,t)]}),[e.Injector,Ml.D,Ml.G]),e["\u0275mpd"](1073873408,Ml.o,Ml.o,[Ml.F,Ml.b,Ml.g,Ml.p]),e["\u0275mpd"](1073742336,Bt.ChartsModule,Bt.ChartsModule,[]),e["\u0275mpd"](1073742336,Ft.a,Ft.a,[e.Injector]),e["\u0275mpd"](1073742336,Ut.a,Ut.a,[]),e["\u0275mpd"](1073742336,Lt.c,Lt.c,[]),e["\u0275mpd"](1073742336,u.a,u.a,[]),e["\u0275mpd"](1073742336,Vt.d,Vt.d,[]),e["\u0275mpd"](1073742336,Ht.c,Ht.c,[]),e["\u0275mpd"](1073742336,Jt.a,Jt.a,[]),e["\u0275mpd"](1073742336,qt.a,qt.a,[[2,Lt.h],e.PLATFORM_ID]),e["\u0275mpd"](1073742336,r.l,r.l,[[2,r.d],[2,w.g]]),e["\u0275mpd"](1073742336,Yt.b,Yt.b,[]),e["\u0275mpd"](1073742336,c.b,c.b,[]),e["\u0275mpd"](1073742336,Nt.d,Nt.d,[]),e["\u0275mpd"](1073742336,_.a,_.a,[]),e["\u0275mpd"](1073742336,zt.g,zt.g,[]),e["\u0275mpd"](1073742336,f.g,f.g,[]),e["\u0275mpd"](1073742336,P.g,P.g,[]),e["\u0275mpd"](1073742336,y.e,y.e,[]),e["\u0275mpd"](1073742336,r.v,r.v,[]),e["\u0275mpd"](1073742336,S.c,S.c,[]),e["\u0275mpd"](1073742336,R.c,R.c,[]),e["\u0275mpd"](1073742336,Wt.a,Wt.a,[]),e["\u0275mpd"](1073742336,r.m,r.m,[]),e["\u0275mpd"](1073742336,r.t,r.t,[]),e["\u0275mpd"](1073742336,$t.b,$t.b,[]),e["\u0275mpd"](1073742336,Kt.c,Kt.c,[]),e["\u0275mpd"](1073742336,Qt.a,Qt.a,[]),e["\u0275mpd"](1073742336,Zt,Zt,[]),e["\u0275mpd"](1073742336,Xt.a,Xt.a,[]),e["\u0275mpd"](1073742336,ne.a,ne.a,[]),e["\u0275mpd"](1073742336,le.a,le.a,[]),e["\u0275mpd"](1073742336,te.a,te.a,[]),e["\u0275mpd"](1073742336,r.q,r.q,[]),e["\u0275mpd"](1073742336,s.e,s.e,[]),e["\u0275mpd"](1073742336,g.d,g.d,[]),e["\u0275mpd"](1073742336,at.i,at.i,[]),e["\u0275mpd"](1073742336,i,i,[]),e["\u0275mpd"](1024,b.m,(function(){return[[{path:"",component:bt}]]}),[])])}))},coO8:function(n,l,t){"use strict";t.d(l,"a",(function(){return e})),t.d(l,"b",(function(){return i})),t.d(l,"c",(function(){return o}));var e=function(n){return n.STAND_BY="STAND_BY",n.IN_PROGRESS="IN_PROGRESS",n.DISABLED="DISABLED",n}({}),i=function(n){return n.stand_by="stand_by",n.in_progress="in_progress",n.disabled="disabled",n}({}),a=function(n){return n.STAND_BY="stand by",n.IN_PROGRESS="in progress",n.DISABLED="disabled",n}({});const o=n=>{switch(n){case e.DISABLED:case i.disabled:case a.DISABLED:return e.DISABLED;case e.IN_PROGRESS:case i.in_progress:case a.IN_PROGRESS:return e.IN_PROGRESS;case e.STAND_BY:case i.stand_by:case a.STAND_BY:return e.STAND_BY;default:return null}}},g5jP:function(n,l,t){"use strict";!function(n){for(var t in n)l.hasOwnProperty(t)||(l[t]=n[t])}(t("xdbM"))},lDqx:function(n,l,t){"use strict";t.d(l,"a",(function(){return s}));var e=t("8Y7J"),i=(t("WyAD"),t("3CQG"),t("YHf6"),t("S6fl")),a=(t("xrDQ"),t("n4Wj"),t("g5jP"),t("1G5W")),o=t("XNiG");class s{constructor(n,l,t,i,a,s,r,u){this._chartOptions=n,this._renderer=l,this._hostElRef=t,this._cd=i,this._zone=a,this._beforeRender=s,this._chartPlugins=r,this._window=u,this.showDefaultChartJSTooltips=!1,this.datasetChange=new e.EventEmitter,this.tooltipStyles={opacity:0,position:"absolute"},this.tmpContext={$implicit:this.tooltipModel},this.legendContext={$implicit:this.legendModel},this.isMouseOnTooltip=!1,this._destroy$=new o.b,this._unsDatasets$=new o.b,this.mouseLeaveHandler=n=>this.hideTooltip(n),this.mouseMoveHandler=n=>this.onCanvasMouseMove(n)}get rightCustomLegendClass(){return"right"===this.customLegendPosition}set tooltipModel(n){this._tooltipModel=n,this.tmpContext={$implicit:n},this._cd.detectChanges()}get tooltipModel(){return this._tooltipModel}set legendModel(n){this._legendModel=n,this.legendContext={$implicit:n,chart:n.chart,datasets:n.datasets},this._cd.detectChanges()}get legendModel(){return this._legendModel}get tooltipWidth(){return this.tooltip.nativeElement.clientWidth}get chartCanvasWidth(){return this.chartCanvasEl.nativeElement.clientWidth}get chartEl(){return this.chartCanvasEl.nativeElement}ngOnInit(){this.subscribeToDatasets()}ngOnChanges(n){const{chartOptions:l,chartDatasets:t}=n;if(l&&l.currentValue){if(this._window.JSON.stringify(l.previousValue)===this._window.JSON.stringify(l.currentValue))return;this.mergeDefaultOptionsOptions()}t&&t.currentValue&&Array.isArray(t.currentValue)&&Array.isArray(t.previousValue)}ngAfterContentInit(){}ngAfterViewInit(){this._zone.runOutsideAngular(()=>{this.chartEl.addEventListener("mouseleave",this.mouseLeaveHandler),this.chartEl.addEventListener("mousemove",this.mouseMoveHandler)})}ngOnDestroy(){this._zone.runOutsideAngular(()=>{this.chartEl.removeEventListener("mouseleave",this.mouseLeaveHandler),this.chartEl.removeEventListener("mousemove",this.mouseMoveHandler)}),this._unsDatasets$.next(),this._unsDatasets$.unsubscribe(),this._destroy$.next(),this._destroy$.unsubscribe()}subscribeToDatasets(){if(this._unsDatasets$.next(),!this.ng2ChartComponent.chart)return this._zone.runOutsideAngular(n=>{setTimeout(n=>this.subscribeToDatasets(),20)});this._chartPlugins.subscribeChartDatasetsChange(this.ng2ChartComponent.chart.id).pipe(Object(a.a)(this._unsDatasets$)).subscribe(n=>{this.chartInstance=n.chart,this.legendModel=n,this.datasetChange.emit(n),this._cd.detectChanges()})}mergeDefaultOptionsOptions(){this.showDefaultChartJSTooltips||Object.assign(this.chartOptions.tooltips,{enabled:!1,custom:this._createTooltip.bind(this)})}hideTooltip(n){this.isMouseOnTooltip||(this.tooltipStyles=Object.assign({},this.tooltipStyles,{opacity:0,"z-index":"-1"}),this._cd.detectChanges())}updateChart(){this.ng2ChartComponent.refresh(),this.mergeDefaultOptionsOptions(),this.subscribeToDatasets()}trackByFn(n,l){return n}onTooltipMouseover(){this.isMouseOnTooltip=!0}onTooltipMouseleave(){this.isMouseOnTooltip=!1}onCanvasMouseMove(n){const{offsetX:l,offsetY:t,clientX:e}=n;this.tooltipStyles=Object.assign({},this.tooltipStyles,{transform:`translate(${e<this._window.innerWidth/2?`${l+60}px`:`calc(-100% + ${l-60}px)`}, calc(-50% + ${t}px))`}),this._cd.detectChanges()}_createTooltip(n){if(0===n.opacity)return;this.tooltipModel=i.a.cloneObj(n);let l=this.tooltip.nativeElement;0!==n.opacity?(this._renderer.removeClass(l,"above"),this._renderer.removeClass(l,"below"),this._renderer.removeClass(l,"no-transform"),this._renderer.addClass(l,n.yAlign?n.yAlign:"no-transform"),this.tooltipStyles=Object.assign({},this.tooltipStyles,{"font-family":n._bodyFontFamily,"font-size":n.bodyFontSize+"px","font-style":n._bodyFontStyle,background:n.backgroundColor,"border-style":"solid","border-width":n.borderWidth+"px","border-radius":n.cornerRadius+"px","border-color":n.borderColor,color:n.bodyFontColor,padding:n.yPadding+"px "+n.xPadding+"px",opacity:1,"z-index":10})):this.hideTooltip()}}},nRYT:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(n){return n.PositionUpdateService="SyncBundle\\Service\\SyncServices\\Position\\PositionUpdateService",n.SitecheckerUpdateService="SyncBundle\\Service\\SyncServices\\SitecheckerUpdateService",n.NewSearchConsoleUpdateService="SyncBundle\\Service\\SyncServices\\NewSearchConsoleUpdateService",n.SemrushSyncService="SyncBundle\\Service\\SyncServices\\SemrushSyncService",n.PageIndicatorCrawlerSyncService="SyncBundle\\Service\\SyncServices\\PageIndicatorCrawlerSyncService",n.SitecheckerCriticalUpdateService="SyncBundle\\Service\\SyncServices\\SitecheckerCriticalUpdateService",n.GaUpdateService="SyncBundle\\Service\\SyncServices\\GaUpdateService",n.SyncLinksLttService="SyncBundle\\Service\\SyncServices\\SyncLinksLttService",n.CrawlingSyncService="SyncBundle\\Service\\SyncServices\\Crawler\\CrawlerSyncService",n.FirstTimeSyncService="SyncBundle\\Service\\SyncServices\\FirstTimeSyncService",n}({})},rIHv:function(n,l,t){"use strict";var e=t("8Y7J"),i=t("SVse"),a=t("xdbM");t("lDqx"),t("YHf6"),t("xrDQ"),t("n4Wj"),t.d(l,"a",(function(){return o})),t.d(l,"b",(function(){return f}));var o=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative}.right-custom-legend[_nghost-%COMP%]{width:calc(100% - 300px)}[_nghost-%COMP%]     .chartjs-custom-tooltip{top:0;left:0;transition:opacity .2s ease-in-out}[_nghost-%COMP%]     .chartjs-custom-tooltip-row{display:flex;align-items:center;height:20px}[_nghost-%COMP%]     .chartjs-custom-tooltip-label{display:inline-block;border-radius:50%;width:12px;height:12px;margin-right:8px}[_nghost-%COMP%]     .chartjs-custom-tooltip-title{display:inline-block;margin-bottom:8px}"]],data:{}});function s(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["here is ignored"]))],null,null)}function r(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function u(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,r)),e["\u0275did"](2,540672,null,0,i.NgTemplateOutlet,[e.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(n()(),e["\u0275and"](0,null,null,0))],(function(n,l){var t=l.component;n(l,2,0,t.legendContext,t.legendTmp)}),null)}function c(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,3,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,2,"span",[["class","chartjs-custom-tooltip-title"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),e["\u0275ted"](4,null,["",""]))],null,(function(n,l){n(l,4,0,l.context.$implicit)}))}function d(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,11,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,10,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,9,"div",[["class","chartjs-custom-tooltip-row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,3,"p",[["class","chartjs-custom-tooltip-label"]],null,null,null,null,null)),e["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[e.ElementRef,e.KeyValueDiffers,e.Renderer2]),e["\u0275did"](5,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),e["\u0275pod"](6,{backgroundColor:0}),(n()(),e["\u0275eld"](7,0,null,null,4,"span",[],null,null,null,null,null)),e["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[e.ElementRef,e.KeyValueDiffers,e.Renderer2]),e["\u0275did"](9,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),e["\u0275pod"](10,{color:0}),(n()(),e["\u0275ted"](11,null,[" "," "]))],(function(n,l){var t=l.component,e=n(l,6,0,t.tooltipModel.labelColors[l.context.index].backgroundColor);n(l,5,0,e);var i=n(l,10,0,t.tooltipModel.labelColors[l.context.index].textColor);n(l,9,0,i)}),(function(n,l){n(l,11,0,l.context.$implicit.lines[0])}))}function p(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,[[1,0],["tooltip",1]],null,9,"div",[["class","chartjs-custom-tooltip"]],null,[[null,"mouseenter"],[null,"mouseleave"]],(function(n,l,t){var e=!0,i=n.component;return"mouseenter"===l&&(e=!1!==i.onTooltipMouseover()&&e),"mouseleave"===l&&(e=!1!==i.onTooltipMouseleave()&&e),e}),null,null)),e["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[e.ElementRef,e.KeyValueDiffers,e.Renderer2]),e["\u0275did"](2,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(n()(),e["\u0275eld"](3,0,null,null,6,"table",[["style",""]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,2,"thead",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,c)),e["\u0275did"](6,278528,null,0,i.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e["\u0275eld"](7,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,d)),e["\u0275did"](9,278528,null,0,i.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(n,l){var t=l.component;n(l,2,0,t.tooltipStyles),n(l,6,0,null==t.tooltipModel?null:t.tooltipModel.title,t.trackByFn),n(l,9,0,null==t.tooltipModel?null:t.tooltipModel.body,t.trackByFn)}),null)}function h(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function g(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,[[1,0],["tooltip",1]],null,4,"div",[["class","chartjs-custom-tooltip"]],null,null,null,null,null)),e["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[e.ElementRef,e.KeyValueDiffers,e.Renderer2]),e["\u0275did"](2,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,h)),e["\u0275did"](4,540672,null,0,i.NgTemplateOutlet,[e.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],(function(n,l){var t=l.component;n(l,2,0,t.tooltipStyles),n(l,4,0,t.tmpContext,t.tooltipTmp)}),null)}function f(n){return e["\u0275vid"](2,[e["\u0275qud"](671088640,1,{tooltip:0}),e["\u0275qud"](402653184,2,{chartCanvasEl:0}),e["\u0275qud"](402653184,3,{ng2ChartComponent:0}),(n()(),e["\u0275eld"](3,0,[[2,0],["chartCanvasEl",1]],null,1,"canvas",[["baseChart",""]],null,null,null,null,null)),e["\u0275did"](4,737280,[[3,4]],0,a.BaseChartDirective,[e.ElementRef],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"]},null),(n()(),e["\u0275eld"](5,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,s)),e["\u0275did"](7,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,u)),e["\u0275did"](9,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](0,[["defaultTooltip",2]],null,0,null,p)),(n()(),e["\u0275and"](0,[["customTooltip",2]],null,0,null,g))],(function(n,l){var t=l.component;n(l,4,0,t.chartDatasets,t.chartLabels,t.chartOptions,t.chartType,t.chartColors),n(l,7,0,!t.tooltipTmp,e["\u0275nov"](l,10),e["\u0275nov"](l,11)),n(l,9,0,t.legendTmp)}),null)}},xrDQ:function(n,l,t){"use strict";t.d(l,"a",(function(){return i}));var e=t("8Y7J");let i=(()=>{class n{constructor(n){this._window=n,this.tasks=[],this.running=!1}addTask(n){this.tasks.push(n),this.run()}run(){this.running||(this.running=!0,this._window.requestAnimationFrame(()=>{this.tasks.forEach(n=>n()),this.tasks.length=0,this.running=!1}))}}return n.ngInjectableDef=e["\u0275\u0275defineInjectable"]({factory:function(){return new n(e["\u0275\u0275inject"]("WINDOW"))},token:n,providedIn:"root"}),n})()}}]);